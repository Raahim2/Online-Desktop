<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kinetic Scrolling Gallery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Basic parallax effect using background-attachment */
        .parallax-section {
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }
        /* Ensure sections take at least full viewport height */
        .min-h-screen-dynamic {
            min-height: 100vh;
        }
        /* Style for active nav dot */
        .nav-dot.active {
            background-color: #f8fafc; /* Tailwind gray-50 */
            transform: scale(1.4);
            opacity: 1;
        }
        /* Smooth scroll behavior */
        html {
            scroll-behavior: smooth;
        }
        /* Optional: Hide scrollbar for a cleaner look */
         body::-webkit-scrollbar {
            display: none; /* Safari and Chrome */
        }
        body {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
            overscroll-behavior-y: none; /* Prevent bounce effect on scroll end */
        }
        /* Ensure content is above overlay */
        .content-z {
            z-index: 10;
        }
        /* Ensure overlay is behind content but above background */
        .overlay-z {
            z-index: 5;
        }
         /* Custom transition delay classes if needed */
        .delay-400 { transition-delay: 400ms; }
        .delay-600 { transition-delay: 600ms; }

    </style>
</head>
<body class="bg-gray-900 text-gray-100 font-sans antialiased overflow-x-hidden">

    <!-- Navigation Dots -->
    <nav id="nav-dots" class="fixed right-0 top-1/2 transform -translate-y-1/2 z-50 flex flex-col items-center pr-4 md:pr-6 space-y-3">
        <!-- Dots will be dynamically generated by JS -->
    </nav>

    <!-- Gallery Sections Container -->
    <main id="gallery-container">

        <section id="section1" class="parallax-section min-h-screen-dynamic relative flex items-center justify-center overflow-hidden" style="background-image: url('https://images.unsplash.com/photo-1476610182048-b716b8518aae?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80');">
            <!-- Overlay -->
            <div class="absolute inset-0 bg-black bg-opacity-50 overlay-z"></div>
            <!-- Content -->
            <div class="relative content-z text-center p-6 md:p-12 max-w-4xl mx-auto flex flex-col items-center">
                <img src="https://images.unsplash.com/photo-1504829857131-0196c679e59f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" alt="Alpine Lake Reflection" class="scroll-animate max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl mb-6 md:mb-8 rounded-lg shadow-2xl opacity-0 transform translate-y-12 transition duration-1000 ease-out">
                <h2 class="scroll-animate text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold mb-3 md:mb-4 text-white drop-shadow-xl opacity-0 transform translate-y-12 transition duration-1000 ease-out delay-200">Crystal Waters</h2>
                <p class="scroll-animate text-lg sm:text-xl md:text-2xl text-gray-200 drop-shadow-lg max-w-prose opacity-0 transform translate-y-12 transition duration-1000 ease-out delay-400">Mirror-like reflections on a serene alpine lake.</p>
            </div>
        </section>

        <section id="section2" class="parallax-section min-h-screen-dynamic relative flex items-center justify-center overflow-hidden" style="background-image: url('https://images.unsplash.com/photo-1444084316824-dc26d6657664?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');">
            <!-- Overlay -->
            <div class="absolute inset-0 bg-gradient-to-b from-black/30 via-black/60 to-black/30 overlay-z"></div>
            <!-- Content -->
            <div class="relative content-z text-center p-6 md:p-12 max-w-4xl mx-auto flex flex-col items-center">
                 <img src="https://images.unsplash.com/photo-1491466424936-e304919aada7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1469&q=80" alt="Enchanted Forest Path" class="scroll-animate max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl mb-6 md:mb-8 rounded-lg shadow-2xl opacity-0 transform translate-y-12 transition duration-1000 ease-out">
                <h2 class="scroll-animate text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold mb-3 md:mb-4 text-white drop-shadow-xl opacity-0 transform translate-y-12 transition duration-1000 ease-out delay-200">Forest Depths</h2>
                <p class="scroll-animate text-lg sm:text-xl md:text-2xl text-gray-200 drop-shadow-lg max-w-prose opacity-0 transform translate-y-12 transition duration-1000 ease-out delay-400">Wander through sun-dappled ancient woodlands.</p>
            </div>
        </section>

        <section id="section3" class="parallax-section min-h-screen-dynamic relative flex items-center justify-center overflow-hidden" style="background-image: url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2073&q=80');">
            <!-- Overlay -->
            <div class="absolute inset-0 bg-blue-900 bg-opacity-30 overlay-z"></div>
             <!-- Content -->
            <div class="relative content-z text-center p-6 md:p-12 max-w-4xl mx-auto flex flex-col items-center">
                 <img src="https://images.unsplash.com/photo-1519046904884-53103b34b206?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Tropical Beach Sunset" class="scroll-animate max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl mb-6 md:mb-8 rounded-lg shadow-2xl opacity-0 transform translate-y-12 transition duration-1000 ease-out">
                <h2 class="scroll-animate text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold mb-3 md:mb-4 text-white drop-shadow-xl opacity-0 transform translate-y-12 transition duration-1000 ease-out delay-200">Coastal Dreams</h2>
                <p class="scroll-animate text-lg sm:text-xl md:text-2xl text-gray-200 drop-shadow-lg max-w-prose opacity-0 transform translate-y-12 transition duration-1000 ease-out delay-400">Where the golden sands meet the turquoise tide.</p>
            </div>
        </section>

         <section id="section4" class="parallax-section min-h-screen-dynamic relative flex items-center justify-center overflow-hidden" style="background-image: url('https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1474&q=80');">
            <!-- Overlay -->
            <div class="absolute inset-0 bg-black bg-opacity-60 overlay-z"></div>
             <!-- Content -->
            <div class="relative content-z text-center p-6 md:p-12 max-w-4xl mx-auto flex flex-col items-center">
                 <img src="https://images.unsplash.com/photo-1475924156734-496f6cac6ec1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Ocean Sunrise" class="scroll-animate max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl mb-6 md:mb-8 rounded-lg shadow-2xl opacity-0 transform translate-y-12 transition duration-1000 ease-out">
                <h2 class="scroll-animate text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold mb-3 md:mb-4 text-white drop-shadow-xl opacity-0 transform translate-y-12 transition duration-1000 ease-out delay-200">Morning Horizon</h2>
                <p class="scroll-animate text-lg sm:text-xl md:text-2xl text-gray-200 drop-shadow-lg max-w-prose opacity-0 transform translate-y-12 transition duration-1000 ease-out delay-400">Greeting the day as light breaks over the sea.</p>
            </div>
        </section>

        <section id="section5" class="parallax-section min-h-screen-dynamic relative flex items-center justify-center overflow-hidden" style="background-image: url('https://images.unsplash.com/photo-1470770841072-f978cf4d019e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80');">
            <!-- Overlay -->
            <div class="absolute inset-0 bg-green-900 bg-opacity-40 overlay-z"></div>
             <!-- Content -->
            <div class="relative content-z text-center p-6 md:p-12 max-w-4xl mx-auto flex flex-col items-center">
                 <img src="https://images.unsplash.com/photo-1433086966358-54859d0ed716?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" alt="Waterfall Cascade" class="scroll-animate max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl mb-6 md:mb-8 rounded-lg shadow-2xl opacity-0 transform translate-y-12 transition duration-1000 ease-out">
                <h2 class="scroll-animate text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold mb-3 md:mb-4 text-white drop-shadow-xl opacity-0 transform translate-y-12 transition duration-1000 ease-out delay-200">Cascading Falls</h2>
                <p class="scroll-animate text-lg sm:text-xl md:text-2xl text-gray-200 drop-shadow-lg max-w-prose opacity-0 transform translate-y-12 transition duration-1000 ease-out delay-400">The raw power and beauty of flowing water.</p>
            </div>
        </section>

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const sections = document.querySelectorAll('#gallery-container section');
            const navDotsContainer = document.getElementById('nav-dots');
            let dots = []; // To store dot elements

            // --- Create Navigation Dots ---
            sections.forEach((section, index) => {
                const dotLink = document.createElement('a');
                dotLink.href = `#${section.id}`;
                dotLink.setAttribute('aria-label', `Go to section ${index + 1}`);
                dotLink.classList.add('nav-dot', 'block', 'w-2.5', 'h-2.5', 'md:w-3', 'md:h-3', 'bg-gray-400', 'rounded-full', 'transition-all', 'duration-300', 'ease-in-out', 'hover:bg-gray-100', 'hover:scale-125', 'opacity-60', 'hover:opacity-100');
                dotLink.setAttribute('data-index', index);

                dotLink.addEventListener('click', (e) => {
                    e.preventDefault(); // Prevent instant jump
                    section.scrollIntoView({ behavior: 'smooth' });
                });

                navDotsContainer.appendChild(dotLink);
                dots.push(dotLink); // Store the dot element
            });

            // --- Intersection Observer for Animations and Active Dot ---
            const observerOptions = {
                root: null, // Use the viewport as the root
                rootMargin: '0px',
                threshold: 0.5 // Trigger when 50% of the section is visible
            };

            const observerCallback = (entries, observer) => {
                entries.forEach(entry => {
                    const targetElement = entry.target;

                    // Update Active Navigation Dot
                    if (targetElement.tagName === 'SECTION') {
                        const index = parseInt(targetElement.id.replace('section', '') - 1); // Get index from section ID
                        const dot = dots[index];

                        if (entry.isIntersecting) {
                            // Remove active class from all dots
                            dots.forEach(d => d.classList.remove('active'));
                            // Add active class to the current dot
                            if (dot) dot.classList.add('active');
                        }
                    }

                    // Trigger Animations for elements within the section
                    if (entry.isIntersecting) {
                        const animatedElements = targetElement.querySelectorAll('.scroll-animate');
                        animatedElements.forEach(el => {
                            el.classList.remove('opacity-0', 'translate-y-12');
                            el.classList.add('opacity-100', 'translate-y-0');
                        });
                        // Optional: Unobserve the section after its animations are triggered once
                        // observer.unobserve(targetElement);
                    } else {
                        // Optional: Reset animations when scrolling out of view
                        const animatedElements = targetElement.querySelectorAll('.scroll-animate');
                        animatedElements.forEach(el => {
                            // Check if transition is complete before resetting to avoid flicker
                            // This part can be complex, simpler to just let it animate once on entry
                            // el.classList.add('opacity-0', 'translate-y-12');
                            // el.classList.remove('opacity-100', 'translate-y-0');
                        });
                    }
                });
            };

            const observer = new IntersectionObserver(observerCallback, observerOptions);

            // Observe each section
            sections.forEach(section => {
                observer.observe(section);
            });

            // --- Enhanced Parallax (Subtle Foreground Movement) ---
            // Note: The primary parallax is CSS-based (`background-attachment: fixed`).
            // This adds a subtle secondary effect to foreground images.
            const foregroundImages = document.querySelectorAll('.scroll-animate[src]'); // Select only images
            window.addEventListener('scroll', () => {
                const scrollY = window.pageYOffset;
                foregroundImages.forEach(img => {
                    const section = img.closest('section');
                    if (!section) return;

                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.offsetHeight;
                    const windowHeight = window.innerHeight;

                    // Calculate how far through the section the viewport center is
                    const viewportCenter = scrollY + windowHeight / 2;
                    const sectionCenter = sectionTop + sectionHeight / 2;
                    const distanceToCenter = viewportCenter - sectionCenter;

                    // Check if the section is roughly in view
                    if (Math.abs(distanceToCenter) < (sectionHeight + windowHeight) / 2) {
                        // Apply a subtle vertical translation based on scroll position within the section
                        // Adjust the '0.05' factor for more/less movement
                        const moveFactor = 0.05;
                        const yOffset = -(distanceToCenter * moveFactor);

                        // Apply the transform, ensuring it combines with the entry animation transform
                        // We only apply this *after* the initial animation is likely done
                        if (!img.classList.contains('opacity-0')) {
                             // Combine with existing transforms if any, otherwise just set translate Y
                             // The entry animation uses translate-y-0 when active, so we can override
                             img.style.transform = `translateY(${yOffset}px)`;
                        }
                    }
                });
            }, { passive: true }); // Use passive listener for better scroll performance

        });
    </script>

</body>
</html>