<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Element Builder - Interactive Periodic Table</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Define grid positioning classes (can be applied inline via JS style) */
        /* .row-1 { grid-row: 1; } .col-1 { grid-column: 1; } ... */

        /* Base element styles - applied via JS */
        /* .element { ... } */

        /* Category color classes - applied via JS */
        /* .diatomic-nonmetal { background-color: #...; } ... */

        /* Selection highlight - applied via JS */
        .element.selected {
            outline: 3px solid #22d3ee; /* cyan-400 */
            outline-offset: 2px;
            z-index: 20;
            transform: scale(1.05);
        }
        /* Search fade effect - applied via JS */
        .element.faded {
            opacity: 0.25;
            pointer-events: none; /* Disable interaction when faded */
        }

        /* Periodic Table Grid Layout */
        #periodic-table-grid {
            display: grid;
            grid-template-columns: repeat(18, minmax(0, 1fr));
            gap: 4px;
        }
        #lanthanide-row, #actinide-row {
            display: grid;
            /* grid-template-columns: repeat(15, minmax(0, 1fr)); */ /* Set dynamically by JS */
            gap: 4px; /* Match main table gap */
        }

        /* Responsive adjustments for smaller screens */
        @media (max-width: 1200px) {
             #periodic-table-grid, #lanthanide-row, #actinide-row { gap: 3px; }
             .element { font-size: 0.7rem; padding: 2px; min-height: 55px; }
             .element-symbol { font-size: 0.9rem; }
             .element-number { font-size: 0.6rem; }
             .element-name { font-size: 0.5rem; }
        }
         @media (max-width: 768px) {
             #periodic-table-grid, #lanthanide-row, #actinide-row { gap: 2px; }
             .element { font-size: 0.5rem; padding: 1px; min-height: 45px; }
             .element-symbol { font-size: 0.7rem; }
             .element-number { font-size: 0.4rem; }
             .element-name { display: none; } /* Hide name on smallest */
         }
          @media (max-width: 480px) {
             #periodic-table-grid, #lanthanide-row, #actinide-row { gap: 1px; }
             .element { font-size: 0.4rem; padding: 1px; min-height: 40px; }
             .element-symbol { font-size: 0.6rem; }
             .element-number { font-size: 0.3rem; }
         }

        /* Canvas styling */
        #atom-canvas {
            display: block;
            margin: 1rem auto;
            max-width: 100%;
            height: auto;
            background-color: #374151; /* gray-700 */
            border-radius: 0.375rem; /* rounded-md */
        }

        /* Hide scrollbar for element info panel content */
        #element-details-scroll::-webkit-scrollbar { display: none; }
        #element-details-scroll { -ms-overflow-style: none; scrollbar-width: none; }

        /* Ensure sticky positioning works */
        @media (min-width: 1024px) { /* lg breakpoint */
            #element-info-panel {
                position: sticky;
                top: 2rem; /* Adjust as needed */
                max-height: calc(100vh - 4rem); /* Prevent overflow */
                overflow-y: auto;
            }
        }

    </style>
</head>
<body class="bg-gray-900 text-gray-100 font-sans antialiased">

    <div class="container mx-auto p-4 md:p-6 lg:p-8">

        <header class="text-center mb-8">
            <h1 class="text-4xl sm:text-5xl font-bold text-cyan-400 tracking-tight">Element Builder</h1>
            <p class="text-lg sm:text-xl text-gray-400 mt-2">Interactive Periodic Table & Atomic Visualizer</p>
        </header>

        <main class="flex flex-col lg:flex-row gap-6 lg:gap-8">

            <!-- Periodic Table and Controls Section -->
            <section class="flex-grow lg:w-3/4 order-2 lg:order-1">
                <div class="mb-4">
                    <input type="search" id="search-input" placeholder="Search by name, symbol, or atomic number..." class="w-full p-3 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 text-gray-100 placeholder-gray-500 transition duration-200">
                </div>

                <div id="periodic-table-container" class="bg-gray-800 p-2 md:p-3 rounded-lg shadow-xl relative mb-4">
                     <div id="periodic-table-grid">
                        <!-- Elements will be injected here by JavaScript -->
                        <!-- Placeholder divs for Lanthanide/Actinide series markers -->
                        <div id="lanthanide-marker" class="text-xs text-center text-gray-400 flex items-center justify-center font-mono" style="grid-column: 3; grid-row: 6;">*</div>
                        <div id="actinide-marker" class="text-xs text-center text-gray-400 flex items-center justify-center font-mono" style="grid-column: 3; grid-row: 7;">**</div>
                     </div>
                </div>

                 <!-- Lanthanide and Actinide Rows -->
                <div id="lanthanide-container" class="bg-gray-800 p-2 md:p-3 rounded-lg shadow-xl mt-4">
                    <div class="flex items-center">
                         <span class="text-xs text-center text-gray-400 font-mono w-6">*</span>
                         <div id="lanthanide-row" class="flex-grow">
                            <!-- Lanthanides injected here -->
                         </div>
                    </div>
                </div>
                <div id="actinide-container" class="bg-gray-800 p-2 md:p-3 rounded-lg shadow-xl mt-2">
                     <div class="flex items-center">
                         <span class="text-xs text-center text-gray-400 font-mono w-6">**</span>
                         <div id="actinide-row" class="flex-grow">
                            <!-- Actinides injected here -->
                         </div>
                    </div>
                </div>

                 <!-- Legend -->
                <div id="legend" class="mt-6 p-4 bg-gray-800 rounded-lg shadow-xl">
                    <h3 class="text-lg font-semibold mb-3 text-cyan-400">Element Categories</h3>
                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-4 gap-y-2 text-xs">
                        <!-- Legend items will be generated by JS -->
                    </div>
                </div>
            </section>

            <!-- Element Info Section -->
            <aside id="element-info-panel" class="lg:w-1/4 order-1 lg:order-2 bg-gray-800 p-4 md:p-6 rounded-lg shadow-xl self-start">
                <h2 id="info-element-name" class="text-2xl font-bold text-cyan-400 mb-4 truncate">Select an Element</h2>
                <div id="element-details-scroll" class="max-h-[60vh] lg:max-h-none overflow-y-auto">
                    <div id="element-details" class="space-y-3 text-gray-300 hidden">
                        <p><strong>Symbol:</strong> <span id="info-symbol" class="font-mono text-lg text-white bg-gray-700 px-2 py-0.5 rounded"></span></p>
                        <p><strong>Atomic Number:</strong> <span id="info-atomic-number" class="font-semibold text-white"></span></p>
                        <p><strong>Atomic Weight:</strong> <span id="info-atomic-weight" class="text-white"></span> amu</p>
                        <p><strong>Category:</strong> <span id="info-category" class="capitalize text-white"></span></p>
                        <p><strong>Phase (at STP):</strong> <span id="info-phase" class="text-white"></span></p>
                        <p><strong>Discovered by:</strong> <span id="info-discovered-by" class="text-sm text-gray-400"></span></p>
                        <div class="pt-2">
                            <p class="text-sm font-semibold text-cyan-300 mb-1">Summary:</p>
                            <p id="info-summary" class="text-sm text-gray-400 leading-relaxed"></p>
                        </div>
                    </div>
                    <p id="no-element-selected" class="text-gray-500 mt-4">Click on an element in the table to view its details and atomic structure.</p>
                </div>

                 <div class="mt-6 border-t border-gray-700 pt-4">
                    <h3 class="text-xl font-semibold text-cyan-400 mb-3">Atomic Structure (Bohr Model)</h3>
                    <canvas id="atom-canvas" width="250" height="250"></canvas>
                 </div>
            </aside>

        </main>

        <footer class="text-center mt-12 py-4 border-t border-gray-700">
            <p class="text-gray-500 text-sm">&copy; 2023 Element Builder. A project exploring HTML, Tailwind CSS, and JavaScript.</p>
        </footer>

    </div>

    <script>
        // Comprehensive Element Data (up to 118) with positions and simplified shells
        const elementsData = [
            {"number": 1, "symbol": "H", "name": "Hydrogen", "atomic_mass": 1.008, "category": "diatomic nonmetal", "phase": "Gas", "discovered_by": "Henry Cavendish", "summary": "Hydrogen is the lightest element and the most abundant chemical substance in the universe.", "xpos": 1, "ypos": 1, "shells": [1]},
            {"number": 2, "symbol": "He", "name": "Helium", "atomic_mass": 4.002602, "category": "noble gas", "phase": "Gas", "discovered_by": "Pierre Janssen & Norman Lockyer", "summary": "Helium is a colorless, odorless, inert monatomic gas, the first in the noble gas group.", "xpos": 18, "ypos": 1, "shells": [2]},
            {"number": 3, "symbol": "Li", "name": "Lithium", "atomic_mass": 6.94, "category": "alkali metal", "phase": "Solid", "discovered_by": "Johan August Arfwedson", "summary": "Lithium is a soft, silvery-white alkali metal, the lightest metal and the lightest solid element.", "xpos": 1, "ypos": 2, "shells": [2, 1]},
            {"number": 4, "symbol": "Be", "name": "Beryllium", "atomic_mass": 9.0121831, "category": "alkaline earth metal", "phase": "Solid", "discovered_by": "Louis Nicolas Vauquelin", "summary": "Beryllium is a steel-gray, strong, lightweight and brittle alkaline earth metal.", "xpos": 2, "ypos": 2, "shells": [2, 2]},
            {"number": 5, "symbol": "B", "name": "Boron", "atomic_mass": 10.81, "category": "metalloid", "phase": "Solid", "discovered_by": "Joseph Louis Gay-Lussac & Louis Jacques Thénard", "summary": "Boron is a metalloid element known for its hardness and presence in borax.", "xpos": 13, "ypos": 2, "shells": [2, 3]},
            {"number": 6, "symbol": "C", "name": "Carbon", "atomic_mass": 12.011, "category": "polyatomic nonmetal", "phase": "Solid", "discovered_by": "Ancient civilizations", "summary": "Carbon is the basis of all known life, forming a vast number of compounds.", "xpos": 14, "ypos": 2, "shells": [2, 4]},
            {"number": 7, "symbol": "N", "name": "Nitrogen", "atomic_mass": 14.007, "category": "diatomic nonmetal", "phase": "Gas", "discovered_by": "Daniel Rutherford", "summary": "Nitrogen is the most abundant gas in Earth's atmosphere and a key component of proteins.", "xpos": 15, "ypos": 2, "shells": [2, 5]},
            {"number": 8, "symbol": "O", "name": "Oxygen", "atomic_mass": 15.999, "category": "diatomic nonmetal", "phase": "Gas", "discovered_by": "Carl Wilhelm Scheele & Joseph Priestley", "summary": "Oxygen is essential for respiration and combustion, making up about 21% of the Earth's atmosphere.", "xpos": 16, "ypos": 2, "shells": [2, 6]},
            {"number": 9, "symbol": "F", "name": "Fluorine", "atomic_mass": 18.998403163, "category": "diatomic nonmetal", "phase": "Gas", "discovered_by": "Henri Moissan", "summary": "Fluorine is the most electronegative and reactive of all elements.", "xpos": 17, "ypos": 2, "shells": [2, 7]},
            {"number": 10, "symbol": "Ne", "name": "Neon", "atomic_mass": 20.1797, "category": "noble gas", "phase": "Gas", "discovered_by": "Morris Travers & William Ramsay", "summary": "Neon is a noble gas known for its bright reddish-orange glow in vacuum discharge tubes.", "xpos": 18, "ypos": 2, "shells": [2, 8]},
            {"number": 11, "symbol": "Na", "name": "Sodium", "atomic_mass": 22.98976928, "category": "alkali metal", "phase": "Solid", "discovered_by": "Humphry Davy", "summary": "Sodium is a highly reactive alkali metal, essential for animal life (as ions).", "xpos": 1, "ypos": 3, "shells": [2, 8, 1]},
            {"number": 12, "symbol": "Mg", "name": "Magnesium", "atomic_mass": 24.305, "category": "alkaline earth metal", "phase": "Solid", "discovered_by": "Joseph Black", "summary": "Magnesium is a light, silvery-white alkaline earth metal, important in biological systems.", "xpos": 2, "ypos": 3, "shells": [2, 8, 2]},
            {"number": 13, "symbol": "Al", "name": "Aluminium", "atomic_mass": 26.9815385, "category": "post-transition metal", "phase": "Solid", "discovered_by": "Hans Christian Ørsted", "summary": "Aluminium is a lightweight, durable, and corrosion-resistant post-transition metal.", "xpos": 13, "ypos": 3, "shells": [2, 8, 3]},
            {"number": 14, "symbol": "Si", "name": "Silicon", "atomic_mass": 28.085, "category": "metalloid", "phase": "Solid", "discovered_by": "Jöns Jacob Berzelius", "summary": "Silicon is a metalloid widely used in semiconductors and electronics.", "xpos": 14, "ypos": 3, "shells": [2, 8, 4]},
            {"number": 15, "symbol": "P", "name": "Phosphorus", "atomic_mass": 30.973761998, "category": "polyatomic nonmetal", "phase": "Solid", "discovered_by": "Hennig Brand", "summary": "Phosphorus exists in several allotropic forms and is essential for life (DNA, ATP).", "xpos": 15, "ypos": 3, "shells": [2, 8, 5]},
            {"number": 16, "symbol": "S", "name": "Sulfur", "atomic_mass": 32.06, "category": "polyatomic nonmetal", "phase": "Solid", "discovered_by": "Ancient civilizations", "summary": "Sulfur is a bright yellow nonmetal, known since antiquity, essential for life.", "xpos": 16, "ypos": 3, "shells": [2, 8, 6]},
            {"number": 17, "symbol": "Cl", "name": "Chlorine", "atomic_mass": 35.45, "category": "diatomic nonmetal", "phase": "Gas", "discovered_by": "Carl Wilhelm Scheele", "summary": "Chlorine is a highly reactive halogen gas, used in disinfectants and PVC.", "xpos": 17, "ypos": 3, "shells": [2, 8, 7]},
            {"number": 18, "symbol": "Ar", "name": "Argon", "atomic_mass": 39.948, "category": "noble gas", "phase": "Gas", "discovered_by": "Lord Rayleigh & William Ramsay", "summary": "Argon is the third-most abundant gas in Earth's atmosphere, used in lighting and welding.", "xpos": 18, "ypos": 3, "shells": [2, 8, 8]},
            {"number": 19, "symbol": "K", "name": "Potassium", "atomic_mass": 39.0983, "category": "alkali metal", "phase": "Solid", "discovered_by": "Humphry Davy", "summary": "Potassium is a reactive alkali metal, essential for plant and animal life.", "xpos": 1, "ypos": 4, "shells": [2, 8, 8, 1]},
            {"number": 20, "symbol": "Ca", "name": "Calcium", "atomic_mass": 40.078, "category": "alkaline earth metal", "phase": "Solid", "discovered_by": "Humphry Davy", "summary": "Calcium is essential for bones and teeth, and plays a role in cellular physiology.", "xpos": 2, "ypos": 4, "shells": [2, 8, 8, 2]},
            {"number": 21, "symbol": "Sc", "name": "Scandium", "atomic_mass": 44.955908, "category": "transition metal", "phase": "Solid", "discovered_by": "Lars Fredrik Nilson", "summary": "Scandium is a silvery-white metallic d-block element, historically classified as a rare-earth element.", "xpos": 3, "ypos": 4, "shells": [2, 8, 9, 2]},
            {"number": 22, "symbol": "Ti", "name": "Titanium", "atomic_mass": 47.867, "category": "transition metal", "phase": "Solid", "discovered_by": "William Gregor", "summary": "Titanium is known for its high strength-to-weight ratio and corrosion resistance.", "xpos": 4, "ypos": 4, "shells": [2, 8, 10, 2]},
            {"number": 23, "symbol": "V", "name": "Vanadium", "atomic_mass": 50.9415, "category": "transition metal", "phase": "Solid", "discovered_by": "Andrés Manuel del Río", "summary": "Vanadium is a hard, silvery-grey, ductile transition metal often used in alloys.", "xpos": 5, "ypos": 4, "shells": [2, 8, 11, 2]},
            {"number": 24, "symbol": "Cr", "name": "Chromium", "atomic_mass": 51.9961, "category": "transition metal", "phase": "Solid", "discovered_by": "Louis Nicolas Vauquelin", "summary": "Chromium is a steely-grey, lustrous, hard metal known for its use in stainless steel and chrome plating.", "xpos": 6, "ypos": 4, "shells": [2, 8, 13, 1]},
            {"number": 25, "symbol": "Mn", "name": "Manganese", "atomic_mass": 54.938044, "category": "transition metal", "phase": "Solid", "discovered_by": "Carl Wilhelm Scheele", "summary": "Manganese is a transition metal used primarily in steel alloys.", "xpos": 7, "ypos": 4, "shells": [2, 8, 13, 2]},
            {"number": 26, "symbol": "Fe", "name": "Iron", "atomic_mass": 55.845, "category": "transition metal", "phase": "Solid", "discovered_by": "Ancient civilizations", "summary": "Iron is the most common element on Earth by mass, forming much of Earth's outer and inner core.", "xpos": 8, "ypos": 4, "shells": [2, 8, 14, 2]},
            {"number": 27, "symbol": "Co", "name": "Cobalt", "atomic_mass": 58.933194, "category": "transition metal", "phase": "Solid", "discovered_by": "Georg Brandt", "summary": "Cobalt is a hard, lustrous, silver-gray metal used in alloys and pigments.", "xpos": 9, "ypos": 4, "shells": [2, 8, 15, 2]},
            {"number": 28, "symbol": "Ni", "name": "Nickel", "atomic_mass": 58.6934, "category": "transition metal", "phase": "Solid", "discovered_by": "Axel Fredrik Cronstedt", "summary": "Nickel is a silvery-white lustrous metal with a slight golden tinge, used in coins and alloys.", "xpos": 10, "ypos": 4, "shells": [2, 8, 16, 2]},
            {"number": 29, "symbol": "Cu", "name": "Copper", "atomic_mass": 63.546, "category": "transition metal", "phase": "Solid", "discovered_by": "Ancient civilizations", "summary": "Copper is a ductile metal with very high thermal and electrical conductivity.", "xpos": 11, "ypos": 4, "shells": [2, 8, 18, 1]},
            {"number": 30, "symbol": "Zn", "name": "Zinc", "atomic_mass": 65.38, "category": "transition metal", "phase": "Solid", "discovered_by": "Ancient civilizations", "summary": "Zinc is a bluish-white metal used for galvanizing steel and in alloys like brass.", "xpos": 12, "ypos": 4, "shells": [2, 8, 18, 2]},
            {"number": 31, "symbol": "Ga", "name": "Gallium", "atomic_mass": 69.723, "category": "post-transition metal", "phase": "Solid", "discovered_by": "Lecoq de Boisbaudran", "summary": "Gallium is a soft, silvery metal that is liquid near room temperature.", "xpos": 13, "ypos": 4, "shells": [2, 8, 18, 3]},
            {"number": 32, "symbol": "Ge", "name": "Germanium", "atomic_mass": 72.63, "category": "metalloid", "phase": "Solid", "discovered_by": "Clemens Winkler", "summary": "Germanium is a lustrous, hard, grayish-white metalloid used in semiconductors.", "xpos": 14, "ypos": 4, "shells": [2, 8, 18, 4]},
            {"number": 33, "symbol": "As", "name": "Arsenic", "atomic_mass": 74.921595, "category": "metalloid", "phase": "Solid", "discovered_by": "Albertus Magnus", "summary": "Arsenic is a metalloid known for its toxicity and use in alloys and semiconductors.", "xpos": 15, "ypos": 4, "shells": [2, 8, 18, 5]},
            {"number": 34, "symbol": "Se", "name": "Selenium", "atomic_mass": 78.971, "category": "polyatomic nonmetal", "phase": "Solid", "discovered_by": "Jöns Jacob Berzelius", "summary": "Selenium is a nonmetal with properties intermediate between sulfur and tellurium.", "xpos": 16, "ypos": 4, "shells": [2, 8, 18, 6]},
            {"number": 35, "symbol": "Br", "name": "Bromine", "atomic_mass": 79.904, "category": "diatomic nonmetal", "phase": "Liquid", "discovered_by": "Antoine Jérôme Balard & Carl Jacob Löwig", "summary": "Bromine is a fuming red-brown liquid halogen, the only nonmetallic element liquid at room temperature.", "xpos": 17, "ypos": 4, "shells": [2, 8, 18, 7]},
            {"number": 36, "symbol": "Kr", "name": "Krypton", "atomic_mass": 83.798, "category": "noble gas", "phase": "Gas", "discovered_by": "Morris Travers & William Ramsay", "summary": "Krypton is a colorless, odorless noble gas used in lighting and lasers.", "xpos": 18, "ypos": 4, "shells": [2, 8, 18, 8]},
            {"number": 37, "symbol": "Rb", "name": "Rubidium", "atomic_mass": 85.4678, "category": "alkali metal", "phase": "Solid", "discovered_by": "Robert Bunsen & Gustav Kirchhoff", "summary": "Rubidium is a soft, silvery-white highly reactive alkali metal.", "xpos": 1, "ypos": 5, "shells": [2, 8, 18, 8, 1]},
            {"number": 38, "symbol": "Sr", "name": "Strontium", "atomic_mass": 87.62, "category": "alkaline earth metal", "phase": "Solid", "discovered_by": "William Cruickshank", "summary": "Strontium is a soft, silver-white alkaline earth metal known for the crimson color it imparts to flames.", "xpos": 2, "ypos": 5, "shells": [2, 8, 18, 8, 2]},
            {"number": 39, "symbol": "Y", "name": "Yttrium", "atomic_mass": 88.90584, "category": "transition metal", "phase": "Solid", "discovered_by": "Johan Gadolin", "summary": "Yttrium is a silvery-metallic transition metal chemically similar to the lanthanides.", "xpos": 3, "ypos": 5, "shells": [2, 8, 18, 9, 2]},
            {"number": 40, "symbol": "Zr", "name": "Zirconium", "atomic_mass": 91.224, "category": "transition metal", "phase": "Solid", "discovered_by": "Martin Heinrich Klaproth", "summary": "Zirconium is a lustrous, grey-white, strong transition metal resembling hafnium.", "xpos": 4, "ypos": 5, "shells": [2, 8, 18, 10, 2]},
            {"number": 41, "symbol": "Nb", "name": "Niobium", "atomic_mass": 92.90637, "category": "transition metal", "phase": "Solid", "discovered_by": "Charles Hatchett", "summary": "Niobium is a light grey, crystalline, ductile transition metal used in superconducting alloys.", "xpos": 5, "ypos": 5, "shells": [2, 8, 18, 12, 1]},
            {"number": 42, "symbol": "Mo", "name": "Molybdenum", "atomic_mass": 95.96, "category": "transition metal", "phase": "Solid", "discovered_by": "Carl Wilhelm Scheele", "summary": "Molybdenum is a silvery-white metal with a very high melting point, used in high-strength steel alloys.", "xpos": 6, "ypos": 5, "shells": [2, 8, 18, 13, 1]},
            {"number": 43, "symbol": "Tc", "name": "Technetium", "atomic_mass": 98, "category": "transition metal", "phase": "Solid", "discovered_by": "Emilio Segrè & Carlo Perrier", "summary": "Technetium is the lightest element whose isotopes are all radioactive.", "xpos": 7, "ypos": 5, "shells": [2, 8, 18, 13, 2]},
            {"number": 44, "symbol": "Ru", "name": "Ruthenium", "atomic_mass": 101.07, "category": "transition metal", "phase": "Solid", "discovered_by": "Karl Ernst Claus", "summary": "Ruthenium is a rare transition metal belonging to the platinum group, used as a catalyst.", "xpos": 8, "ypos": 5, "shells": [2, 8, 18, 15, 1]},
            {"number": 45, "symbol": "Rh", "name": "Rhodium", "atomic_mass": 102.90550, "category": "transition metal", "phase": "Solid", "discovered_by": "William Hyde Wollaston", "summary": "Rhodium is a rare, silvery-white, hard, corrosion-resistant transition metal of the platinum group.", "xpos": 9, "ypos": 5, "shells": [2, 8, 18, 16, 1]},
            {"number": 46, "symbol": "Pd", "name": "Palladium", "atomic_mass": 106.42, "category": "transition metal", "phase": "Solid", "discovered_by": "William Hyde Wollaston", "summary": "Palladium is a rare, lustrous silvery-white metal used in catalytic converters.", "xpos": 10, "ypos": 5, "shells": [2, 8, 18, 18, 0]},
            {"number": 47, "symbol": "Ag", "name": "Silver", "atomic_mass": 107.8682, "category": "transition metal", "phase": "Solid", "discovered_by": "Ancient civilizations", "summary": "Silver is a soft, white, lustrous transition metal with the highest electrical conductivity of any element.", "xpos": 11, "ypos": 5, "shells": [2, 8, 18, 18, 1]},
            {"number": 48, "symbol": "Cd", "name": "Cadmium", "atomic_mass": 112.414, "category": "transition metal", "phase": "Solid", "discovered_by": "Karl Samuel Leberecht Hermann & Friedrich Stromeyer", "summary": "Cadmium is a soft, bluish-white toxic transition metal, chemically similar to zinc and mercury.", "xpos": 12, "ypos": 5, "shells": [2, 8, 18, 18, 2]},
            {"number": 49, "symbol": "In", "name": "Indium", "atomic_mass": 114.818, "category": "post-transition metal", "phase": "Solid", "discovered_by": "Ferdinand Reich & Hieronymous Theodor Richter", "summary": "Indium is a very soft, malleable post-transition metal used in coatings and alloys.", "xpos": 13, "ypos": 5, "shells": [2, 8, 18, 18, 3]},
            {"number": 50, "symbol": "Sn", "name": "Tin", "atomic_mass": 118.710, "category": "post-transition metal", "phase": "Solid", "discovered_by": "Ancient civilizations", "summary": "Tin is a silvery, malleable post-transition metal known since antiquity, used in solder and plating.", "xpos": 14, "ypos": 5, "shells": [2, 8, 18, 18, 4]},
            {"number": 51, "symbol": "Sb", "name": "Antimony", "atomic_mass": 121.760, "category": "metalloid", "phase": "Solid", "discovered_by": "Ancient civilizations", "summary": "Antimony is a lustrous gray metalloid used as a flame retardant and in alloys.", "xpos": 15, "ypos": 5, "shells": [2, 8, 18, 18, 5]},
            {"number": 52, "symbol": "Te", "name": "Tellurium", "atomic_mass": 127.60, "category": "metalloid", "phase": "Solid", "discovered_by": "Franz-Joseph Müller von Reichenstein", "summary": "Tellurium is a brittle, mildly toxic, rare, silver-white metalloid.", "xpos": 16, "ypos": 5, "shells": [2, 8, 18, 18, 6]},
            {"number": 53, "symbol": "I", "name": "Iodine", "atomic_mass": 126.90447, "category": "diatomic nonmetal", "phase": "Solid", "discovered_by": "Bernard Courtois", "summary": "Iodine is a lustrous, purple-black nonmetallic solid halogen, essential as a trace element.", "xpos": 17, "ypos": 5, "shells": [2, 8, 18, 18, 7]},
            {"number": 54, "symbol": "Xe", "name": "Xenon", "atomic_mass": 131.293, "category": "noble gas", "phase": "Gas", "discovered_by": "Morris Travers & William Ramsay", "summary": "Xenon is a heavy, colorless, odorless noble gas used in specialized light sources.", "xpos": 18, "ypos": 5, "shells": [2, 8, 18, 18, 8]},
            {"number": 55, "symbol": "Cs", "name": "Caesium", "atomic_mass": 132.90545196, "category": "alkali metal", "phase": "Solid", "discovered_by": "Robert Bunsen & Gustav Kirchhoff", "summary": "Caesium is a soft, silvery-gold alkali metal, liquid near room temperature, used in atomic clocks.", "xpos": 1, "ypos": 6, "shells": [2, 8, 18, 18, 8, 1]},
            {"number": 56, "symbol": "Ba", "name": "Barium", "atomic_mass": 137.327, "category": "alkaline earth metal", "phase": "Solid", "discovered_by": "Carl Wilhelm Scheele", "summary": "Barium is a soft, silvery alkaline earth metal, used in drilling fluids and medical imaging.", "xpos": 2, "ypos": 6, "shells": [2, 8, 18, 18, 8, 2]},
            {"number": 57, "symbol": "La", "name": "Lanthanum", "atomic_mass": 138.90547, "category": "lanthanide", "phase": "Solid", "discovered_by": "Carl Gustaf Mosander", "summary": "Lanthanum is a soft, ductile, silvery-white metal, the first element of the lanthanide series.", "xpos": 3, "ypos": 9, "shells": [2, 8, 18, 18, 9, 2]},
            {"number": 58, "symbol": "Ce", "name": "Cerium", "atomic_mass": 140.116, "category": "lanthanide", "phase": "Solid", "discovered_by": "Martin Heinrich Klaproth, Jöns Jacob Berzelius, Wilhelm Hisinger", "summary": "Cerium is a soft, ductile, silvery-white metal, the most abundant of the rare-earth elements.", "xpos": 4, "ypos": 9, "shells": [2, 8, 18, 19, 9, 2]},
            {"number": 59, "symbol": "Pr", "name": "Praseodymium", "atomic_mass": 140.90766, "category": "lanthanide", "phase": "Solid", "discovered_by": "Carl Auer von Welsbach", "summary": "Praseodymium is a soft, silvery, malleable and ductile metal in the lanthanide group.", "xpos": 5, "ypos": 9, "shells": [2, 8, 18, 21, 8, 2]},
            {"number": 60, "symbol": "Nd", "name": "Neodymium", "atomic_mass": 144.242, "category": "lanthanide", "phase": "Solid", "discovered_by": "Carl Auer von Welsbach", "summary": "Neodymium is a soft silvery metal known for its use in powerful magnets.", "xpos": 6, "ypos": 9, "shells": [2, 8, 18, 22, 8, 2]},
            {"number": 61, "symbol": "Pm", "name": "Promethium", "atomic_mass": 145, "category": "lanthanide", "phase": "Solid", "discovered_by": "Jacob A. Marinsky, Lawrence E. Glendenin, Charles D. Coryell", "summary": "Promethium is a radioactive lanthanide, extremely rare as it has no stable isotopes.", "xpos": 7, "ypos": 9, "shells": [2, 8, 18, 23, 8, 2]},
            {"number": 62, "symbol": "Sm", "name": "Samarium", "atomic_mass": 150.36, "category": "lanthanide", "phase": "Solid", "discovered_by": "Lecoq de Boisbaudran", "summary": "Samarium is a moderately hard silvery metal used in magnets and nuclear reactors.", "xpos": 8, "ypos": 9, "shells": [2, 8, 18, 25, 8, 2]},
            {"number": 63, "symbol": "Eu", "name": "Europium", "atomic_mass": 151.964, "category": "lanthanide", "phase": "Solid", "discovered_by": "Eugène-Anatole Demarçay", "summary": "Europium is the most reactive lanthanide, used in phosphors for displays and lighting.", "xpos": 9, "ypos": 9, "shells": [2, 8, 18, 25, 8, 2]}, // Shells might vary slightly in representation
            {"number": 64, "symbol": "Gd", "name": "Gadolinium", "atomic_mass": 157.25, "category": "lanthanide", "phase": "Solid", "discovered_by": "Jean Charles Galissard de Marignac", "summary": "Gadolinium is a silvery-white metal with unusual magnetic properties, used in MRI contrast agents.", "xpos": 10, "ypos": 9, "shells": [2, 8, 18, 25, 9, 2]},
            {"number": 65, "symbol": "Tb", "name": "Terbium", "atomic_mass": 158.92535, "category": "lanthanide", "phase": "Solid", "discovered_by": "Carl Gustaf Mosander", "summary": "Terbium is a silvery-white rare earth metal used in green phosphors and solid-state devices.", "xpos": 11, "ypos": 9, "shells": [2, 8, 18, 27, 8, 2]},
            {"number": 66, "symbol": "Dy", "name": "Dysprosium", "atomic_mass": 162.500, "category": "lanthanide", "phase": "Solid", "discovered_by": "Lecoq de Boisbaudran", "summary": "Dysprosium is a rare earth element with a metallic silver luster, used in high-intensity lighting.", "xpos": 12, "ypos": 9, "shells": [2, 8, 18, 28, 8, 2]},
            {"number": 67, "symbol": "Ho", "name": "Holmium", "atomic_mass": 164.93033, "category": "lanthanide", "phase": "Solid", "discovered_by": "Marc Delafontaine & Jacques-Louis Soret", "summary": "Holmium has the highest magnetic strength of any element, used in magnets and lasers.", "xpos": 13, "ypos": 9, "shells": [2, 8, 18, 29, 8, 2]},
            {"number": 68, "symbol": "Er", "name": "Erbium", "atomic_mass": 167.259, "category": "lanthanide", "phase": "Solid", "discovered_by": "Carl Gustaf Mosander", "summary": "Erbium is a silvery-white solid rare earth metal used in fiber optics and lasers.", "xpos": 14, "ypos": 9, "shells": [2, 8, 18, 30, 8, 2]},
            {"number": 69, "symbol": "Tm", "name": "Thulium", "atomic_mass": 168.93422, "category": "lanthanide", "phase": "Solid", "discovered_by": "Per Teodor Cleve", "summary": "Thulium is the least abundant stable rare earth element, used in portable X-ray devices.", "xpos": 15, "ypos": 9, "shells": [2, 8, 18, 31, 8, 2]},
            {"number": 70, "symbol": "Yb", "name": "Ytterbium", "atomic_mass": 173.045, "category": "lanthanide", "phase": "Solid", "discovered_by": "Jean Charles Galissard de Marignac", "summary": "Ytterbium is a soft, malleable and ductile chemical element, a rare earth metal.", "xpos": 16, "ypos": 9, "shells": [2, 8, 18, 32, 8, 2]},
            {"number": 71, "symbol": "Lu", "name": "Lutetium", "atomic_mass": 174.9668, "category": "lanthanide", "phase": "Solid", "discovered_by": "Georges Urbain, Carl Auer von Welsbach", "summary": "Lutetium is a silvery-white metal, the last element in the lanthanide series.", "xpos": 17, "ypos": 9, "shells": [2, 8, 18, 32, 9, 2]},
            {"number": 72, "symbol": "Hf", "name": "Hafnium", "atomic_mass": 178.49, "category": "transition metal", "phase": "Solid", "discovered_by": "Dirk Coster & George de Hevesy", "summary": "Hafnium is a lustrous, silvery, ductile metal chemically similar to zirconium.", "xpos": 4, "ypos": 6, "shells": [2, 8, 18, 32, 10, 2]},
            {"number": 73, "symbol": "Ta", "name": "Tantalum", "atomic_mass": 180.94788, "category": "transition metal", "phase": "Solid", "discovered_by": "Anders Gustaf Ekeberg", "summary": "Tantalum is a rare, hard, blue-gray, lustrous transition metal highly resistant to corrosion.", "xpos": 5, "ypos": 6, "shells": [2, 8, 18, 32, 11, 2]},
            {"number": 74, "symbol": "W", "name": "Tungsten", "atomic_mass": 183.84, "category": "transition metal", "phase": "Solid", "discovered_by": "Fausto and Juan José de Elhuyar", "summary": "Tungsten has the highest melting point of all elements, used in filaments and electrodes.", "xpos": 6, "ypos": 6, "shells": [2, 8, 18, 32, 12, 2]},
            {"number": 75, "symbol": "Re", "name": "Rhenium", "atomic_mass": 186.207, "category": "transition metal", "phase": "Solid", "discovered_by": "Walter Noddack, Ida Tacke, Otto Berg", "summary": "Rhenium is a silvery-white, heavy, third-row transition metal, one of the rarest elements.", "xpos": 7, "ypos": 6, "shells": [2, 8, 18, 32, 13, 2]},
            {"number": 76, "symbol": "Os", "name": "Osmium", "atomic_mass": 190.23, "category": "transition metal", "phase": "Solid", "discovered_by": "Smithson Tennant", "summary": "Osmium is the densest naturally occurring element, a hard, brittle, bluish-white transition metal.", "xpos": 8, "ypos": 6, "shells": [2, 8, 18, 32, 14, 2]},
            {"number": 77, "symbol": "Ir", "name": "Iridium", "atomic_mass": 192.217, "category": "transition metal", "phase": "Solid", "discovered_by": "Smithson Tennant", "summary": "Iridium is a very hard, brittle, silvery-white transition metal, the second-densest element.", "xpos": 9, "ypos": 6, "shells": [2, 8, 18, 32, 15, 2]},
            {"number": 78, "symbol": "Pt", "name": "Platinum", "atomic_mass": 195.084, "category": "transition metal", "phase": "Solid", "discovered_by": "Antonio de Ulloa", "summary": "Platinum is a dense, malleable, ductile, highly unreactive, precious, silverish-white transition metal.", "xpos": 10, "ypos": 6, "shells": [2, 8, 18, 32, 17, 1]},
            {"number": 79, "symbol": "Au", "name": "Gold", "atomic_mass": 196.966569, "category": "transition metal", "phase": "Solid", "discovered_by": "Ancient civilizations", "summary": "Gold is a bright, slightly reddish yellow, dense, soft, malleable, and ductile metal.", "xpos": 11, "ypos": 6, "shells": [2, 8, 18, 32, 18, 1]},
            {"number": 80, "symbol": "Hg", "name": "Mercury", "atomic_mass": 200.592, "category": "transition metal", "phase": "Liquid", "discovered_by": "Ancient civilizations", "summary": "Mercury is the only metallic element that is liquid at standard conditions for temperature and pressure.", "xpos": 12, "ypos": 6, "shells": [2, 8, 18, 32, 18, 2]},
            {"number": 81, "symbol": "Tl", "name": "Thallium", "atomic_mass": 204.38, "category": "post-transition metal", "phase": "Solid", "discovered_by": "William Crookes", "summary": "Thallium is a soft gray post-transition metal resembling tin but discolors when exposed to air.", "xpos": 13, "ypos": 6, "shells": [2, 8, 18, 32, 18, 3]},
            {"number": 82, "symbol": "Pb", "name": "Lead", "atomic_mass": 207.2, "category": "post-transition metal", "phase": "Solid", "discovered_by": "Ancient civilizations", "summary": "Lead is a heavy, soft, malleable post-transition metal known for its toxicity.", "xpos": 14, "ypos": 6, "shells": [2, 8, 18, 32, 18, 4]},
            {"number": 83, "symbol": "Bi", "name": "Bismuth", "atomic_mass": 208.98040, "category": "post-transition metal", "phase": "Solid", "discovered_by": "Claude François Geoffroy", "summary": "Bismuth is a brittle metal with a silvery white color when freshly produced, often seen with a pink tinge.", "xpos": 15, "ypos": 6, "shells": [2, 8, 18, 32, 18, 5]},
            {"number": 84, "symbol": "Po", "name": "Polonium", "atomic_mass": 209, "category": "post-transition metal", "phase": "Solid", "discovered_by": "Pierre Curie & Marie Curie", "summary": "Polonium is a rare and highly radioactive metalloid with no stable isotopes.", "xpos": 16, "ypos": 6, "shells": [2, 8, 18, 32, 18, 6]},
            {"number": 85, "symbol": "At", "name": "Astatine", "atomic_mass": 210, "category": "metalloid", "phase": "Solid", "discovered_by": "Dale R. Corson, Kenneth Ross MacKenzie, Emilio Segrè", "summary": "Astatine is a very rare radioactive chemical element, the heaviest known halogen.", "xpos": 17, "ypos": 6, "shells": [2, 8, 18, 32, 18, 7]},
            {"number": 86, "symbol": "Rn", "name": "Radon", "atomic_mass": 222, "category": "noble gas", "phase": "Gas", "discovered_by": "Friedrich Ernst Dorn", "summary": "Radon is a radioactive, colorless, odorless, tasteless noble gas, occurring naturally as a decay product.", "xpos": 18, "ypos": 6, "shells": [2, 8, 18, 32, 18, 8]},
            {"number": 87, "symbol": "Fr", "name": "Francium", "atomic_mass": 223, "category": "alkali metal", "phase": "Solid", "discovered_by": "Marguerite Perey", "summary": "Francium is a highly radioactive alkali metal, one of the least stable naturally occurring elements.", "xpos": 1, "ypos": 7, "shells": [2, 8, 18, 32, 18, 8, 1]},
            {"number": 88, "symbol": "Ra", "name": "Radium", "atomic_mass": 226, "category": "alkaline earth metal", "phase": "Solid", "discovered_by": "Pierre Curie & Marie Curie", "summary": "Radium is a radioactive alkaline earth metal, known for its historical use in luminous paints.", "xpos": 2, "ypos": 7, "shells": [2, 8, 18, 32, 18, 8, 2]},
            {"number": 89, "symbol": "Ac", "name": "Actinium", "atomic_mass": 227, "category": "actinide", "phase": "Solid", "discovered_by": "Friedrich Oskar Giesel & André-Louis Debierne", "summary": "Actinium is a radioactive element, the first element in the actinide series.", "xpos": 3, "ypos": 10, "shells": [2, 8, 18, 32, 18, 9, 2]},
            {"number": 90, "symbol": "Th", "name": "Thorium", "atomic_mass": 232.0377, "category": "actinide", "phase": "Solid", "discovered_by": "Jöns Jacob Berzelius", "summary": "Thorium is a weakly radioactive metallic chemical element, relatively abundant.", "xpos": 4, "ypos": 10, "shells": [2, 8, 18, 32, 18, 10, 2]},
            {"number": 91, "symbol": "Pa", "name": "Protactinium", "atomic_mass": 231.03588, "category": "actinide", "phase": "Solid", "discovered_by": "Kasimir Fajans & Oswald Helmuth Göhring", "summary": "Protactinium is a dense, silvery-gray radioactive actinide metal.", "xpos": 5, "ypos": 10, "shells": [2, 8, 18, 32, 20, 9, 2]},
            {"number": 92, "symbol": "U", "name": "Uranium", "atomic_mass": 238.02891, "category": "actinide", "phase": "Solid", "discovered_by": "Martin Heinrich Klaproth", "summary": "Uranium is a silvery-white radioactive actinide metal, primarily used in nuclear fuel.", "xpos": 6, "ypos": 10, "shells": [2, 8, 18, 32, 21, 9, 2]},
            {"number": 93, "symbol": "Np", "name": "Neptunium", "atomic_mass": 237, "category": "actinide", "phase": "Solid", "discovered_by": "Edwin McMillan & Philip H. Abelson", "summary": "Neptunium is a radioactive actinide metal, the first transuranic element discovered.", "xpos": 7, "ypos": 10, "shells": [2, 8, 18, 32, 22, 9, 2]},
            {"number": 94, "symbol": "Pu", "name": "Plutonium", "atomic_mass": 244, "category": "actinide", "phase": "Solid", "discovered_by": "Glenn T. Seaborg, Arthur Wahl, Joseph W. Kennedy, Edwin McMillan", "summary": "Plutonium is a radioactive actinide metal used in nuclear weapons and reactors.", "xpos": 8, "ypos": 10, "shells": [2, 8, 18, 32, 24, 8, 2]},
            {"number": 95, "symbol": "Am", "name": "Americium", "atomic_mass": 243, "category": "actinide", "phase": "Solid", "discovered_by": "Glenn T. Seaborg, Ralph A. James, Leon O. Morgan, Albert Ghiorso", "summary": "Americium is a synthetic radioactive metal used in smoke detectors.", "xpos": 9, "ypos": 10, "shells": [2, 8, 18, 32, 25, 8, 2]},
            {"number": 96, "symbol": "Cm", "name": "Curium", "atomic_mass": 247, "category": "actinide", "phase": "Solid", "discovered_by": "Glenn T. Seaborg, Ralph A. James, Albert Ghiorso", "summary": "Curium is a transuranic radioactive chemical element named after Marie and Pierre Curie.", "xpos": 10, "ypos": 10, "shells": [2, 8, 18, 32, 25, 9, 2]},
            {"number": 97, "symbol": "Bk", "name": "Berkelium", "atomic_mass": 247, "category": "actinide", "phase": "Solid", "discovered_by": "Lawrence Berkeley National Laboratory", "summary": "Berkelium is a transuranic radioactive chemical element named after Berkeley, California.", "xpos": 11, "ypos": 10, "shells": [2, 8, 18, 32, 27, 8, 2]},
            {"number": 98, "symbol": "Cf", "name": "Californium", "atomic_mass": 251, "category": "actinide", "phase": "Solid", "discovered_by": "Lawrence Berkeley National Laboratory", "summary": "Californium is a radioactive metallic chemical element used as a neutron source.", "xpos": 12, "ypos": 10, "shells": [2, 8, 18, 32, 28, 8, 2]},
            {"number": 99, "symbol": "Es", "name": "Einsteinium", "atomic_mass": 252, "category": "actinide", "phase": "Solid", "discovered_by": "Lawrence Berkeley National Laboratory", "summary": "Einsteinium is a synthetic element named after Albert Einstein.", "xpos": 13, "ypos": 10, "shells": [2, 8, 18, 32, 29, 8, 2]},
            {"number": 100, "symbol": "Fm", "name": "Fermium", "atomic_mass": 257, "category": "actinide", "phase": "Solid", "discovered_by": "Lawrence Berkeley National Laboratory", "summary": "Fermium is a synthetic element named after Enrico Fermi.", "xpos": 14, "ypos": 10, "shells": [2, 8, 18, 32, 30, 8, 2]},
            {"number": 101, "symbol": "Md", "name": "Mendelevium", "atomic_mass": 258, "category": "actinide", "phase": "Solid", "discovered_by": "Lawrence Berkeley National Laboratory", "summary": "Mendelevium is a synthetic element named after Dmitri Mendeleev.", "xpos": 15, "ypos": 10, "shells": [2, 8, 18, 32, 31, 8, 2]},
            {"number": 102, "symbol": "No", "name": "Nobelium", "atomic_mass": 259, "category": "actinide", "phase": "Solid", "discovered_by": "Joint Institute for Nuclear Research", "summary": "Nobelium is a synthetic element named after Alfred Nobel.", "xpos": 16, "ypos": 10, "shells": [2, 8, 18, 32, 32, 8, 2]},
            {"number": 103, "symbol": "Lr", "name": "Lawrencium", "atomic_mass": 266, "category": "actinide", "phase": "Solid", "discovered_by": "Lawrence Berkeley National Laboratory", "summary": "Lawrencium is a synthetic element named after Ernest Lawrence, the last actinide.", "xpos": 17, "ypos": 10, "shells": [2, 8, 18, 32, 32, 8, 3]}, // Shells approximate
            {"number": 104, "symbol": "Rf", "name": "Rutherfordium", "atomic_mass": 267, "category": "transition metal", "phase": "Solid", "discovered_by": "Joint Institute for Nuclear Research", "summary": "Rutherfordium is a synthetic superheavy element named after Ernest Rutherford.", "xpos": 4, "ypos": 7, "shells": [2, 8, 18, 32, 32, 10, 2]}, // Shells approximate
            {"number": 105, "symbol": "Db", "name": "Dubnium", "atomic_mass": 268, "category": "transition metal", "phase": "Solid", "discovered_by": "Joint Institute for Nuclear Research", "summary": "Dubnium is a synthetic superheavy element named after Dubna, Russia.", "xpos": 5, "ypos": 7, "shells": [2, 8, 18, 32, 32, 11, 2]}, // Shells approximate
            {"number": 106, "symbol": "Sg", "name": "Seaborgium", "atomic_mass": 269, "category": "transition metal", "phase": "Solid", "discovered_by": "Lawrence Berkeley National Laboratory", "summary": "Seaborgium is a synthetic superheavy element named after Glenn T. Seaborg.", "xpos": 6, "ypos": 7, "shells": [2, 8, 18, 32, 32, 12, 2]}, // Shells approximate
            {"number": 107, "symbol": "Bh", "name": "Bohrium", "atomic_mass": 270, "category": "transition metal", "phase": "Solid", "discovered_by": "Gesellschaft für Schwerionenforschung", "summary": "Bohrium is a synthetic superheavy element named after Niels Bohr.", "xpos": 7, "ypos": 7, "shells": [2, 8, 18, 32, 32, 13, 2]}, // Shells approximate
            {"number": 108, "symbol": "Hs", "name": "Hassium", "atomic_mass": 269, "category": "transition metal", "phase": "Solid", "discovered_by": "Gesellschaft für Schwerionenforschung", "summary": "Hassium is a synthetic superheavy element named after the German state of Hesse.", "xpos": 8, "ypos": 7, "shells": [2, 8, 18, 32, 32, 14, 2]}, // Shells approximate
            {"number": 109, "symbol": "Mt", "name": "Meitnerium", "atomic_mass": 278, "category": "transition metal", "phase": "Solid", "discovered_by": "Gesellschaft für Schwerionenforschung", "summary": "Meitnerium is a synthetic superheavy element named after Lise Meitner.", "xpos": 9, "ypos": 7, "shells": [2, 8, 18, 32, 32, 15, 2]}, // Shells approximate, phase assumed
            {"number": 110, "symbol": "Ds", "name": "Darmstadtium", "atomic_mass": 281, "category": "transition metal", "phase": "Solid", "discovered_by": "Gesellschaft für Schwerionenforschung", "summary": "Darmstadtium is a synthetic superheavy element named after Darmstadt, Germany.", "xpos": 10, "ypos": 7, "shells": [2, 8, 18, 32, 32, 17, 1]}, // Shells approximate, phase assumed
            {"number": 111, "symbol": "Rg", "name": "Roentgenium", "atomic_mass": 282, "category": "transition metal", "phase": "Solid", "discovered_by": "Gesellschaft für Schwerionenforschung", "summary": "Roentgenium is a synthetic superheavy element named after Wilhelm Conrad Roentgen.", "xpos": 11, "ypos": 7, "shells": [2, 8, 18, 32, 32, 18, 1]}, // Shells approximate, phase assumed
            {"number": 112, "symbol": "Cn", "name": "Copernicium", "atomic_mass": 285, "category": "transition metal", "phase": "Gas", "discovered_by": "Gesellschaft für Schwerionenforschung", "summary": "Copernicium is a synthetic superheavy element named after Nicolaus Copernicus.", "xpos": 12, "ypos": 7, "shells": [2, 8, 18, 32, 32, 18, 2]}, // Shells approximate, phase predicted
            {"number": 113, "symbol": "Nh", "name": "Nihonium", "atomic_mass": 286, "category": "post-transition metal", "phase": "Solid", "discovered_by": "RIKEN", "summary": "Nihonium is a synthetic superheavy element named after Japan (Nihon).", "xpos": 13, "ypos": 7, "shells": [2, 8, 18, 32, 32, 18, 3]}, // Shells approximate, phase assumed
            {"number": 114, "symbol": "Fl", "name": "Flerovium", "atomic_mass": 289, "category": "post-transition metal", "phase": "Gas", "discovered_by": "Joint Institute for Nuclear Research", "summary": "Flerovium is a synthetic superheavy element named after the Flerov Laboratory.", "xpos": 14, "ypos": 7, "shells": [2, 8, 18, 32, 32, 18, 4]}, // Shells approximate, phase predicted
            {"number": 115, "symbol": "Mc", "name": "Moscovium", "atomic_mass": 290, "category": "post-transition metal", "phase": "Solid", "discovered_by": "Joint Institute for Nuclear Research", "summary": "Moscovium is a synthetic superheavy element named after Moscow Oblast, Russia.", "xpos": 15, "ypos": 7, "shells": [2, 8, 18, 32, 32, 18, 5]}, // Shells approximate, phase assumed
            {"number": 116, "symbol": "Lv", "name": "Livermorium", "atomic_mass": 293, "category": "post-transition metal", "phase": "Solid", "discovered_by": "Joint Institute for Nuclear Research & Lawrence Livermore National Laboratory", "summary": "Livermorium is a synthetic superheavy element named after Lawrence Livermore National Laboratory.", "xpos": 16, "ypos": 7, "shells": [2, 8, 18, 32, 32, 18, 6]}, // Shells approximate, phase assumed
            {"number": 117, "symbol": "Ts", "name": "Tennessine", "atomic_mass": 294, "category": "metalloid", "phase": "Solid", "discovered_by": "Joint Institute for Nuclear Research & Lawrence Livermore National Laboratory", "summary": "Tennessine is a synthetic superheavy element named after Tennessee.", "xpos": 17, "ypos": 7, "shells": [2, 8, 18, 32, 32, 18, 7]}, // Shells approximate, phase assumed
            {"number": 118, "symbol": "Og", "name": "Oganesson", "atomic_mass": 294, "category": "noble gas", "phase": "Gas", "discovered_by": "Joint Institute for Nuclear Research & Lawrence Livermore National Laboratory", "summary": "Oganesson is a synthetic superheavy element named after Yuri Oganessian, predicted to be a noble gas.", "xpos": 18, "ypos": 7, "shells": [2, 8, 18, 32, 32, 18, 8]} // Shells approximate, phase predicted
        ];

        const categoryColors = {
            "diatomic-nonmetal": { bg: "bg-green-600", hover: "hover:bg-green-500", text: "text-white" },
            "noble-gas": { bg: "bg-purple-600", hover: "hover:bg-purple-500", text: "text-white" },
            "alkali-metal": { bg: "bg-red-600", hover: "hover:bg-red-500", text: "text-white" },
            "alkaline-earth-metal": { bg: "bg-orange-500", hover: "hover:bg-orange-400", text: "text-white" },
            "metalloid": { bg: "bg-teal-500", hover: "hover:bg-teal-400", text: "text-white" },
            "polyatomic-nonmetal": { bg: "bg-lime-600", hover: "hover:bg-lime-500", text: "text-white" },
            "post-transition-metal": { bg: "bg-blue-600", hover: "hover:bg-blue-500", text: "text-white" },
            "transition-metal": { bg: "bg-yellow-600", hover: "hover:bg-yellow-500", text: "text-gray-900" }, // Darker text for yellow
            "lanthanide": { bg: "bg-pink-600", hover: "hover:bg-pink-500", text: "text-white" },
            "actinide": { bg: "bg-indigo-600", hover: "hover:bg-indigo-500", text: "text-white" },
            "unknown": { bg: "bg-gray-600", hover: "hover:bg-gray-500", text: "text-white" }
        };

        const periodicTableGrid = document.getElementById('periodic-table-grid');
        const lanthanideRow = document.getElementById('lanthanide-row');
        const actinideRow = document.getElementById('actinide-row');
        const infoPanel = document.getElementById('element-info-panel');
        const infoElementName = document.getElementById('info-element-name');
        const infoSymbol = document.getElementById('info-symbol');
        const infoAtomicNumber = document.getElementById('info-atomic-number');
        const infoAtomicWeight = document.getElementById('info-atomic-weight');
        const infoCategory = document.getElementById('info-category');
        const infoDiscoveredBy = document.getElementById('info-discovered-by');
        const infoPhase = document.getElementById('info-phase');
        const infoSummary = document.getElementById('info-summary');
        const elementDetailsDiv = document.getElementById('element-details');
        const noElementSelectedP = document.getElementById('no-element-selected');
        const searchInput = document.getElementById('search-input');
        const canvas = document.getElementById('atom-canvas');
        const ctx = canvas.getContext('2d');
        const legendContainer = document.getElementById('legend').querySelector('div');

        let selectedElementDiv = null;
        let currentElementData = null; // Store data of the currently selected element

        function getCategoryClasses(category) {
            const normalizedCategory = category ? category.toLowerCase().replace(/\s+/g, '-') : 'unknown';
            return categoryColors[normalizedCategory] || categoryColors['unknown'];
        }

        function displayElementInfo(element) {
            currentElementData = element; // Update current element data

            infoElementName.textContent = element.name;
            infoSymbol.textContent = element.symbol;
            infoAtomicNumber.textContent = element.number;
            infoAtomicWeight.textContent = typeof element.atomic_mass === 'number' ? element.atomic_mass.toFixed(4) : element.atomic_mass; // Format weight, handle non-numeric like (223)
            infoCategory.textContent = element.category ? element.category : 'N/A';
            infoDiscoveredBy.textContent = element.discovered_by || 'N/A';
            infoPhase.textContent = element.phase || 'N/A';
            infoSummary.textContent = element.summary || 'No summary available.';

            elementDetailsDiv.classList.remove('hidden');
            noElementSelectedP.classList.add('hidden');

            drawAtom(element);
        }

        function clearElementInfo() {
            currentElementData = null; // Clear current element data
            infoElementName.textContent = 'Select an Element';
            elementDetailsDiv.classList.add('hidden');
            noElementSelectedP.classList.remove('hidden');
            clearAtomCanvas();
        }

        function clearAtomCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // Optional: Draw a placeholder message on cleared canvas
            ctx.fillStyle = '#9ca3af'; // gray-400
            ctx.font = '12px sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('Select an element to visualize', canvas.width / 2, canvas.height / 2);
        }

         function drawAtom(element) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const nucleusRadius = Math.max(8, Math.min(15, element.number / 8)); // Scale nucleus slightly
            const shellBaseStep = 18; // Base distance between shells
            const electronRadius = 3.5;
            const maxShellsToShow = 7; // Limit visible shells for clarity

            // Calculate max radius based on canvas size and nucleus size
            const maxAvailableRadius = Math.min(centerX, centerY) - electronRadius - 5; // 5px padding

            // Draw Nucleus
            ctx.beginPath();
            ctx.arc(centerX, centerY, nucleusRadius, 0, Math.PI * 2);
            ctx.fillStyle = '#ef4444'; // red-500 nucleus
            ctx.fill();
            ctx.closePath();

             // Draw Nucleus Label (Symbol)
             ctx.fillStyle = '#ffffff';
             ctx.font = `bold ${Math.max(8, nucleusRadius * 0.8)}px sans-serif`;
             ctx.textAlign = 'center';
             ctx.textBaseline = 'middle';
             ctx.fillText(element.symbol, centerX, centerY);

            if (!element.shells || element.shells.length === 0) {
                 ctx.fillStyle = '#9ca3af'; // Gray text if no shell data
                 ctx.font = '11px sans-serif';
                 ctx.fillText('Shell data unavailable', centerX, centerY + nucleusRadius + 20);
                 return;
            }

            let electronsToPlace = element.number;
            let currentShellRadius = nucleusRadius + shellBaseStep;
            let dynamicShellStep = shellBaseStep;

            // Adjust shell stepping if too many shells for canvas size
            const requiredRadius = nucleusRadius + element.shells.slice(0, maxShellsToShow).length * shellBaseStep;
            if (requiredRadius > maxAvailableRadius) {
                dynamicShellStep = (maxAvailableRadius - nucleusRadius) / Math.min(element.shells.length, maxShellsToShow);
                currentShellRadius = nucleusRadius + dynamicShellStep;
            }

            // Draw Shells and Electrons
            for (let i = 0; i < element.shells.length && i < maxShellsToShow; i++) {
                if (currentShellRadius > maxAvailableRadius) break; // Stop if shells get too big

                const electronsInShellConfig = element.shells[i];
                const electronsToDrawThisShell = Math.min(electronsToPlace, electronsInShellConfig);
                if (electronsToDrawThisShell <= 0) break;

                // Draw Shell Orbit
                ctx.beginPath();
                ctx.arc(centerX, centerY, currentShellRadius, 0, Math.PI * 2);
                ctx.strokeStyle = '#4b5563'; // gray-600 orbit lines
                ctx.lineWidth = 1;
                ctx.setLineDash([2, 3]); // Dashed line for orbit
                ctx.stroke();
                ctx.setLineDash([]); // Reset dash pattern
                ctx.closePath();

                // Draw Electrons on this shell
                const angleStep = electronsToDrawThisShell > 1 ? (Math.PI * 2) / electronsToDrawThisShell : 0;
                const startAngle = (i * Math.PI / 7); // Offset start angle per shell slightly

                for (let j = 0; j < electronsToDrawThisShell; j++) {
                    const angle = startAngle + j * angleStep;
                    const electronX = centerX + currentShellRadius * Math.cos(angle);
                    const electronY = centerY + currentShellRadius * Math.sin(angle);

                    ctx.beginPath();
                    ctx.arc(electronX, electronY, electronRadius, 0, Math.PI * 2);
                    ctx.fillStyle = '#3b82f6'; // blue-500 electrons
                    ctx.fill();
                    ctx.closePath();
                }

                electronsToPlace -= electronsToDrawThisShell;
                currentShellRadius += dynamicShellStep;
            }
        }

        function createAndPlaceElement(element) {
             const elementDiv = document.createElement('div');
             const categoryStyle = getCategoryClasses(element.category);

             elementDiv.className = `element ${categoryStyle.bg} ${categoryStyle.hover} ${categoryStyle.text} p-1 md:p-1.5 rounded cursor-pointer transition-all duration-150 ease-in-out flex flex-col justify-between items-center text-center shadow hover:scale-110 hover:z-10 relative aspect-square`; // aspect-square for consistent shape
             elementDiv.style.gridColumnStart = element.xpos;
             elementDiv.style.gridRowStart = element.ypos;
             elementDiv.dataset.atomicNumber = element.number; // Store number for searching/selection

             // Tooltip using title attribute
             const massDisplay = typeof element.atomic_mass === 'number' ? element.atomic_mass.toFixed(3) : element.atomic_mass;
             elementDiv.title = `${element.name} (${element.symbol})\nAtomic #: ${element.number}\nMass: ${massDisplay}\nCategory: ${element.category || 'N/A'}`;

             elementDiv.innerHTML = `
                 <div class="element-number text-[0.6rem] md:text-xs font-medium self-start ml-0.5">${element.number}</div>
                 <div class="element-symbol font-bold text-sm md:text-lg leading-none">${element.symbol}</div>
                 <div class="element-name text-[0.5rem] md:text-[0.65rem] leading-tight mt-0.5 truncate w-full px-0.5">${element.name}</div>
             `;

             elementDiv.addEventListener('click', () => {
                 // Remove selection highlight from previously selected element
                 if (selectedElementDiv) {
                     selectedElementDiv.classList.remove('selected');
                 }
                 // Add selection highlight to the clicked element
                 elementDiv.classList.add('selected');
                 selectedElementDiv = elementDiv;

                 displayElementInfo(element);
                 searchInput.value = ''; // Clear search on selection
                 searchInput.dispatchEvent(new Event('input')); // Trigger search update to remove fading
             });

             // Decide where to append the element
             if (element.category === 'lanthanide') {
                 elementDiv.style.gridColumnStart = element.xpos - 2; // Adjust xpos for lanthanide row (starts effectively at col 3)
                 elementDiv.style.gridRowStart = 1; // Only one row
                 lanthanideRow.appendChild(elementDiv);
             } else if (element.category === 'actinide') {
                 elementDiv.style.gridColumnStart = element.xpos - 2; // Adjust xpos for actinide row
                 elementDiv.style.gridRowStart = 1; // Only one row
                 actinideRow.appendChild(elementDiv);
             } else if (element.ypos <= 7) { // Main table elements
                 periodicTableGrid.appendChild(elementDiv);
             }
             // Elements with ypos > 7 that are not L/A are ignored
        }

        // Adjust Lanthanide/Actinide row grid columns dynamically
        const lanthanideCount = elementsData.filter(el => el.category === 'lanthanide').length;
        const actinideCount = elementsData.filter(el => el.category === 'actinide').length;
        lanthanideRow.style.gridTemplateColumns = `repeat(${lanthanideCount}, minmax(0, 1fr))`;
        actinideRow.style.gridTemplateColumns = `repeat(${actinideCount}, minmax(0, 1fr))`;


        // Populate the table
        elementsData.forEach(createAndPlaceElement);

        // Populate Legend
        Object.entries(categoryColors).forEach(([categoryKey, style]) => {
            if (categoryKey === 'unknown') return; // Don't show 'unknown' in legend

            const legendItem = document.createElement('div');
            legendItem.className = 'flex items-center space-x-2';
            const colorBox = document.createElement('span');
            colorBox.className = `w-3 h-3 rounded-sm ${style.bg}`; // Use bg color from style object
            legendItem.appendChild(colorBox);

            const label = document.createElement('span');
             // Convert key back to readable name
            label.textContent = categoryKey.split('-').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ');
            label.className = "text-gray-300";
            legendItem.appendChild(label);

            legendContainer.appendChild(legendItem);
        });

        // Search Functionality
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase().trim();
            const allElementDivs = document.querySelectorAll('.element');

            if (!searchTerm) {
                // Clear search: remove fading
                allElementDivs.forEach(div => div.classList.remove('faded'));
                // Do not clear selection or info panel on search clear
                return;
            }

            elementsData.forEach(element => {
                // Find the div corresponding to the element data
                const elementDiv = document.querySelector(`.element[data-atomic-number='${element.number}']`);
                if (!elementDiv) return;

                const nameMatch = element.name.toLowerCase().includes(searchTerm);
                const symbolMatch = element.symbol.toLowerCase() === searchTerm;
                const numberMatch = element.number.toString() === searchTerm;

                if (nameMatch || symbolMatch || numberMatch) {
                    elementDiv.classList.remove('faded');
                } else {
                    elementDiv.classList.add('faded');
                }
            });
        });

        // Initial clear state for info panel and canvas
        clearElementInfo();

        // Add resize listener to redraw canvas if needed (e.g., if canvas size changes)
        // Debounce function to limit resize event handling
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        const debouncedRedraw = debounce(() => {
            if (currentElementData) {
                // Optional: Adjust canvas width/height based on container if needed
                // canvas.width = canvas.offsetWidth;
                // canvas.height = canvas.width; // Keep aspect ratio or set fixed height
                drawAtom(currentElementData);
            } else {
                clearAtomCanvas();
            }
        }, 250); // 250ms delay

        window.addEventListener('resize', debouncedRedraw);

    </script>

</body>
</html>