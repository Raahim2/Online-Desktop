<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Evolving Mandala Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Minimal style for smooth transitions on mandala elements */
        .mandala-layer {
            transition: all 1.5s ease-in-out;
        }
        /* Add a subtle continuous rotation */
        .mandala-spin {
             animation: spin 60s linear infinite;
        }
        .mandala-spin-fast {
             animation: spin 20s linear infinite;
        }
        @keyframes spin {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        /* Ensure absolute positioned elements are centered */
        .center-absolute {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 text-gray-100 font-sans antialiased min-h-screen flex flex-col">

    <header class="p-4 sm:p-6 text-center">
        <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-purple-500 to-indigo-500 mb-2">
            Evolving Gradient Mandalas
        </h1>
        <p class="text-sm sm:text-base text-purple-300">An interactive visual experience</p>
    </header>

    <main class="flex-grow flex flex-col items-center justify-center p-4">

        <!-- Mandala Display Area -->
        <section id="mandala-container" class="relative w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 lg:w-[500px] lg:h-[500px] mb-8 flex items-center justify-center">
            <!-- Background Glow -->
            <div class="absolute inset-0 rounded-full bg-purple-600 opacity-20 blur-2xl"></div>

            <!-- Mandala Layers - These will be manipulated by JS -->
            <div id="mandala" class="relative w-full h-full">
                <!-- Layer 1 (Innermost) -->
                <div id="layer1" class="mandala-layer center-absolute w-1/5 h-1/5 rounded-full bg-gradient-to-br from-yellow-300 via-orange-400 to-red-500 opacity-90"></div>
                <!-- Layer 2 -->
                <div id="layer2" class="mandala-layer center-absolute w-2/5 h-2/5 rounded-lg bg-gradient-to-tl from-green-400 via-teal-500 to-cyan-600 opacity-80 rotate-12"></div>
                 <!-- Layer 3 -->
                <div id="layer3" class="mandala-layer center-absolute w-3/5 h-3/5 rounded-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 opacity-70 rotate-[24deg]"></div>
                <!-- Layer 4 -->
                <div id="layer4" class="mandala-layer center-absolute w-4/5 h-4/5 rounded-md bg-gradient-to-b from-blue-700 via-blue-800 to-gray-900 opacity-60 rotate-[36deg]"></div>
                <!-- Layer 5 (Outermost) -->
                <div id="layer5" class="mandala-layer center-absolute w-full h-full rounded-full border-2 border-purple-400/50 opacity-50 rotate-45"></div>
                 <!-- Layer 6 (Pattern overlay) -->
                <div id="layer6" class="mandala-layer center-absolute w-3/4 h-3/4 rounded-full bg-gradient-to-tr from-pink-300 via-purple-300 to-indigo-400 opacity-40 mix-blend-overlay rotate-[60deg]"></div>
                 <!-- Layer 7 (Spinning element) -->
                <div id="layer7" class="mandala-layer mandala-spin center-absolute w-1/2 h-1/2 rounded-xl bg-gradient-to-bl from-lime-400 to-emerald-600 opacity-70 mix-blend-lighten"></div>
                 <!-- Layer 8 (Fast Spinning element) -->
                <div id="layer8" class="mandala-layer mandala-spin-fast center-absolute w-1/4 h-1/4 rounded-full bg-gradient-radial from-white via-transparent to-transparent opacity-80 mix-blend-screen"></div>
            </div>
        </section>

        <!-- Controls Area -->
        <section id="controls" class="flex flex-col sm:flex-row items-center justify-center gap-4">
            <button id="evolveBtn" class="px-6 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-purple-400 focus:ring-opacity-75">
                Evolve Mandala
            </button>
             <button id="toggleSpinBtn" class="px-6 py-3 bg-gradient-to-r from-teal-500 to-cyan-600 hover:from-teal-600 hover:to-cyan-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:ring-opacity-75">
                Toggle Spin
            </button>
        </section>

    </main>

    <footer class="p-4 text-center text-xs text-purple-400/70">
        <p>&copy; 2023 Gradient Mandala Generator. Created with HTML & Tailwind CSS.</p>
    </footer>

    <script>
        const evolveBtn = document.getElementById('evolveBtn');
        const toggleSpinBtn = document.getElementById('toggleSpinBtn');
        const mandalaLayers = document.querySelectorAll('#mandala .mandala-layer');
        const spinningLayers = [document.getElementById('layer7'), document.getElementById('layer8')];

        // Predefined Tailwind gradient classes
        const gradients = [
            'bg-gradient-to-r from-green-400 to-blue-500', 'bg-gradient-to-br from-purple-400 via-pink-500 to-red-500',
            'bg-gradient-to-tl from-yellow-200 via-green-200 to-green-500', 'bg-gradient-to-b from-indigo-500 via-purple-500 to-pink-500',
            'bg-gradient-to-tr from-cyan-500 to-blue-500', 'bg-gradient-to-bl from-red-500 via-orange-400 to-yellow-300',
            'bg-gradient-to-r from-lime-400 to-emerald-600', 'bg-gradient-to-l from-rose-400 to-fuchsia-500',
            'bg-gradient-radial from-sky-400 to-indigo-900', 'bg-gradient-conic from-yellow-400 via-red-500 to-pink-600',
            'bg-gradient-to-br from-gray-700 via-gray-900 to-black', 'bg-gradient-to-tl from-blue-700 via-blue-800 to-gray-900'
        ];

        // Predefined Tailwind rotation classes (using inline style for broader range)
        const rotations = [0, 12, 24, 36, 45, 60, 72, 90, 120, 150, 180, 210, 240, 270, 300, 330];

        // Predefined Tailwind shape classes
        const shapes = ['rounded-none', 'rounded-sm', 'rounded-md', 'rounded-lg', 'rounded-xl', 'rounded-2xl', 'rounded-3xl', 'rounded-full'];

        // Predefined Tailwind opacity classes
        const opacities = ['opacity-10', 'opacity-20', 'opacity-30', 'opacity-40', 'opacity-50', 'opacity-60', 'opacity-70', 'opacity-80', 'opacity-90', 'opacity-100'];

        function getRandomElement(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function evolveMandala() {
            mandalaLayers.forEach(layer => {
                // Keep track of current classes to remove old ones
                const currentClasses = Array.from(layer.classList);
                const gradientClass = currentClasses.find(cls => cls.startsWith('bg-gradient-'));
                const shapeClass = currentClasses.find(cls => cls.startsWith('rounded-'));
                const opacityClass = currentClasses.find(cls => cls.startsWith('opacity-'));

                // Remove old styling classes if they exist
                if (gradientClass) layer.classList.remove(gradientClass);
                if (shapeClass) layer.classList.remove(shapeClass);
                if (opacityClass) layer.classList.remove(opacityClass);

                // Add new random classes
                layer.classList.add(getRandomElement(gradients));
                layer.classList.add(getRandomElement(shapes));
                layer.classList.add(getRandomElement(opacities));

                // Apply random rotation using inline style for flexibility
                const randomRotation = getRandomElement(rotations);
                // Preserve transform-origin if needed, otherwise just set rotate
                // Check if it's a spinning layer to avoid overriding spin transform
                if (!layer.classList.contains('mandala-spin') && !layer.classList.contains('mandala-spin-fast')) {
                     layer.style.transform = `translate(-50%, -50%) rotate(${randomRotation}deg)`;
                } else {
                    // For spinning layers, just update non-transform properties or add other transforms if needed
                    // Currently, we only change gradient, shape, opacity for spinning ones via class changes above
                }
            });
        }

        function toggleSpin() {
             spinningLayers.forEach(layer => {
                if(layer) { // Check if element exists
                    layer.classList.toggle('mandala-spin');
                    layer.classList.toggle('mandala-spin-fast'); // Toggle both to switch or stop
                    // Ensure base transform is reapplied if spin is removed
                    if (!layer.classList.contains('mandala-spin') && !layer.classList.contains('mandala-spin-fast')) {
                         // Reapply a default rotation or the last known static rotation if needed
                         // For simplicity, let's just ensure it's centered if not spinning
                         layer.style.transform = `translate(-50%, -50%)`;
                    } else {
                        // Reset inline transform if spin is active, as animation handles it
                        layer.style.transform = '';
                    }
                }
             });
        }

        evolveBtn.addEventListener('click', evolveMandala);
        toggleSpinBtn.addEventListener('click', toggleSpin);

        // Initial random state on load
        evolveMandala();
    </script>

</body>
</html>