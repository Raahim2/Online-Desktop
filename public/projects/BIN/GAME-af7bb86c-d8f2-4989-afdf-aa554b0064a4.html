<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number Guessing Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Add small transition for better UX on feedback change */
        #feedback {
            transition: all 0.3s ease-in-out;
        }
        /* Style for number input arrows (optional, can be browser-specific) */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield; /* Firefox */
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-100 via-purple-100 to-pink-100 min-h-screen flex items-center justify-center p-4 font-sans">

    <div class="bg-white p-6 sm:p-8 rounded-xl shadow-lg w-full max-w-md text-center">
        <h1 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-4">Number Guessing Game</h1>
        <p class="text-gray-600 mb-6">I'm thinking of a number between 1 and 100. Can you guess it?</p>

        <div class="mb-4">
            <label for="guessInput" class="sr-only">Enter your guess</label>
            <input type="number" id="guessInput" min="1" max="100" placeholder="Enter your guess (1-100)" required
                   class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-center text-lg appearance-none">
        </div>

        <button id="guessButton"
                class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg shadow-md transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
            Guess
        </button>

        <div id="feedback" class="mt-5 h-8 text-lg font-medium" aria-live="polite">
            <!-- Feedback messages will appear here -->
        </div>

        <div id="guessCountDisplay" class="mt-3 text-sm text-gray-500">
            Guesses: <span id="guessCount">0</span>
        </div>

        <div id="result" class="mt-6 hidden">
             <!-- Result message set by JS -->
             <p id="resultMessage" class="text-xl font-semibold text-green-600 mb-4"></p>
            <button id="playAgainButton"
                    class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg shadow-md transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2">
                Play Again?
            </button>
        </div>
    </div>

    <script>
        // DOM Elements
        const guessInput = document.getElementById('guessInput');
        const guessButton = document.getElementById('guessButton');
        const feedback = document.getElementById('feedback');
        const guessCountSpan = document.getElementById('guessCount');
        const resultDiv = document.getElementById('result');
        const resultMessage = document.getElementById('resultMessage');
        const playAgainButton = document.getElementById('playAgainButton');
        const guessCountDisplay = document.getElementById('guessCountDisplay');

        // Game State
        let targetNumber;
        let guesses;
        let gameActive;

        // Initialize Game
        function initGame() {
            targetNumber = Math.floor(Math.random() * 100) + 1;
            guesses = 0;
            gameActive = true;

            // Reset UI
            guessInput.value = '';
            feedback.textContent = '';
            feedback.className = 'mt-5 h-8 text-lg font-medium'; // Reset classes
            guessCountSpan.textContent = '0';
            resultDiv.classList.add('hidden');
            guessInput.disabled = false;
            guessButton.disabled = false;
            guessCountDisplay.classList.remove('hidden'); // Ensure guess count is visible
            guessInput.focus();

            // console.log(`Dev Hint: Number is ${targetNumber}`); // Optional: for debugging
        }

        // Handle Guess Submission
        function handleGuess() {
            if (!gameActive) return;

            const userGuess = parseInt(guessInput.value);

            // --- Input Validation ---
            if (isNaN(userGuess) || userGuess < 1 || userGuess > 100) {
                feedback.textContent = 'Please enter a number between 1 and 100.';
                feedback.className = 'mt-5 h-8 text-lg font-medium text-red-600 scale-105'; // Add scale for emphasis
                // Clear invalid input after a delay
                setTimeout(() => {
                     if (feedback.textContent === 'Please enter a number between 1 and 100.') {
                        feedback.textContent = '';
                        feedback.className = 'mt-5 h-8 text-lg font-medium';
                     }
                }, 2500);
                guessInput.value = ''; // Clear the invalid input immediately
                guessInput.focus();
                return;
            }

            // --- Process Valid Guess ---
            guesses++;
            guessCountSpan.textContent = guesses;

            if (userGuess < targetNumber) {
                feedback.textContent = 'Too low! Try higher.';
                feedback.className = 'mt-5 h-8 text-lg font-medium text-blue-600';
            } else if (userGuess > targetNumber) {
                feedback.textContent = 'Too high! Try lower.';
                feedback.className = 'mt-5 h-8 text-lg font-medium text-orange-600';
            } else {
                // --- Correct Guess ---
                gameActive = false;
                feedback.textContent = 'Correct!';
                feedback.className = 'mt-5 h-8 text-lg font-medium text-green-600';
                resultMessage.textContent = `ðŸŽ‰ You guessed it! The number was ${targetNumber}. It took you ${guesses} ${guesses === 1 ? 'guess' : 'guesses'}.`;
                resultDiv.classList.remove('hidden');
                guessInput.disabled = true;
                guessButton.disabled = true;
                guessCountDisplay.classList.add('hidden'); // Hide counter when game ends
            }

            // Clear input for next guess (if game is still active)
            if (gameActive) {
                 guessInput.value = '';
                 guessInput.focus();
            }
        }

        // Event Listeners
        guessButton.addEventListener('click', handleGuess);

        // Allow Enter key to submit guess
        guessInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                handleGuess();
            }
        });

        playAgainButton.addEventListener('click', initGame);

        // Start the game on page load
        initGame();

    </script>

</body>
</html>