<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mood Ring Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Minimal style for slider thumb */
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #4f46e5; /* indigo-600 */
            border-radius: 50%;
            cursor: pointer;
        }
        input[type=range]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #4f46e5; /* indigo-600 */
            border-radius: 50%;
            cursor: pointer;
            border: none;
        }
        /* Add transition for smoother background changes */
        #moodRing {
            transition: background 0.5s ease-in-out, width 0.3s ease, height 0.3s ease, border-radius 0.3s ease;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-100 to-blue-100 font-sans antialiased text-gray-800">

    <div class="container mx-auto px-4 py-8 min-h-screen flex flex-col items-center justify-center">

        <header class="text-center mb-8 md:mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 mb-2">
                Mood Ring Generator
            </h1>
            <p class="text-lg text-gray-600">Visualize your emotions with dynamic digital mood rings.</p>
        </header>

        <main class="w-full max-w-4xl bg-white rounded-xl shadow-xl p-6 md:p-10">
            <div class="flex flex-col md:flex-row gap-8 md:gap-12">

                <!-- Controls Section -->
                <section class="w-full md:w-1/2 space-y-6">
                    <div>
                        <label for="moodSlider" class="block text-sm font-medium text-gray-700 mb-2">Select Your Mood (0-100): <span id="moodValue" class="font-bold text-indigo-600">50</span></label>
                        <input type="range" id="moodSlider" name="moodSlider" min="0" max="100" value="50" step="1" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-600">
                    </div>

                    <div>
                        <h3 class="text-sm font-medium text-gray-700 mb-2">Ring Shape</h3>
                        <div class="flex flex-wrap gap-2" id="shapeSelector">
                            <button data-shape="rounded-full" class="shape-btn ring-2 ring-indigo-500 bg-indigo-100 text-indigo-700 px-4 py-1.5 rounded-full text-sm font-medium hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Circle</button>
                            <button data-shape="rounded-lg" class="shape-btn bg-gray-100 text-gray-700 px-4 py-1.5 rounded-lg text-sm font-medium hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400">Square</button>
                            <button data-shape="rounded-[50%_/_30%]" class="shape-btn bg-gray-100 text-gray-700 px-4 py-1.5 rounded-lg text-sm font-medium hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400">Oval</button>
                             <button data-shape="rounded-md" class="shape-btn bg-gray-100 text-gray-700 px-4 py-1.5 rounded-md text-sm font-medium hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400">Rounded</button>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-sm font-medium text-gray-700 mb-2">Ring Size</h3>
                        <div class="flex flex-wrap gap-2" id="sizeSelector">
                            <button data-size="w-24 h-24" class="size-btn bg-gray-100 text-gray-700 px-4 py-1.5 rounded-md text-sm font-medium hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400">Small</button>
                            <button data-size="w-32 h-32" class="size-btn ring-2 ring-indigo-500 bg-indigo-100 text-indigo-700 px-4 py-1.5 rounded-md text-sm font-medium hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Medium</button>
                            <button data-size="w-40 h-40" class="size-btn bg-gray-100 text-gray-700 px-4 py-1.5 rounded-md text-sm font-medium hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400">Large</button>
                        </div>
                    </div>

                    <div class="pt-4 space-y-3 sm:space-y-0 sm:flex sm:gap-3">
                        <button id="saveButton" class="w-full sm:w-auto inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                            Save as Image
                        </button>
                        <button id="shareButton" class="w-full sm:w-auto inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z" />
                            </svg>
                            Share Link
                        </button>
                    </div>
                     <div id="shareFeedback" class="text-sm text-green-600 mt-2 h-4"></div>

                </section>

                <!-- Ring Display Section -->
                <section class="w-full md:w-1/2 flex items-center justify-center mt-8 md:mt-0">
                    <div class="relative p-4 border border-gray-200 rounded-lg bg-gray-50 aspect-square flex items-center justify-center w-full max-w-xs sm:max-w-sm md:max-w-none">
                         <div id="moodRing" class="w-32 h-32 rounded-full shadow-lg border-4 border-white flex items-center justify-center text-white font-bold text-xl" style="background: linear-gradient(135deg, #fde047, #f97316);">
                            <!-- Optional: Text inside ring -->
                            <!-- <span id="ringText">Mood</span> -->
                         </div>
                    </div>
                </section>

            </div>
        </main>

        <footer class="text-center mt-8 md:mt-12 text-gray-500 text-sm">
            <p>&copy; 2023 Mood Ring Generator. Created with Tailwind CSS.</p>
        </footer>

    </div>

    <script>
        const moodSlider = document.getElementById('moodSlider');
        const moodValueDisplay = document.getElementById('moodValue');
        const moodRing = document.getElementById('moodRing');
        const shapeSelector = document.getElementById('shapeSelector');
        const sizeSelector = document.getElementById('sizeSelector');
        const saveButton = document.getElementById('saveButton');
        const shareButton = document.getElementById('shareButton');
        const shareFeedback = document.getElementById('shareFeedback');

        let currentShapeClass = 'rounded-full'; // Default shape
        let currentSizeClass = 'w-32 h-32';   // Default size

        // Function to update ring gradient based on mood value
        function updateRingGradient(value) {
            const percentage = value / 100;
            let color1, color2;

            // Simple color mapping (adjust as needed for better mood representation)
            if (percentage < 0.15) { // Calm/Relaxed - Blues/Greens
                color1 = '#67e8f9'; // cyan-300
                color2 = '#22d3ee'; // cyan-400
            } else if (percentage < 0.35) { // Neutral/Okay - Greens/Yellows
                color1 = '#a3e635'; // lime-400
                color2 = '#facc15'; // yellow-400
            } else if (percentage < 0.65) { // Happy/Active - Yellows/Oranges
                color1 = '#fde047'; // yellow-300
                color2 = '#f97316'; // orange-500
            } else if (percentage < 0.85) { // Excited/Passionate - Oranges/Reds
                color1 = '#fb923c'; // orange-400
                color2 = '#ef4444'; // red-500
            } else { // Stressed/Intense - Purples/Pinks
                color1 = '#d946ef'; // fuchsia-500
                color2 = '#a855f7'; // purple-500
            }

            moodRing.style.background = `linear-gradient(135deg, ${color1}, ${color2})`;
        }

        // Function to update active button styles
        function updateActiveButton(selectorContainer, activeButton, baseClasses, activeClasses) {
            selectorContainer.querySelectorAll('button').forEach(btn => {
                btn.className = baseClasses; // Reset all buttons to base style
                btn.classList.remove(...activeClasses.split(' '));
                btn.classList.remove('ring-2', 'ring-indigo-500'); // Remove ring indicator
            });
            activeButton.classList.add(...activeClasses.split(' ')); // Apply active style
            activeButton.classList.add('ring-2', 'ring-indigo-500'); // Add ring indicator
        }

        // Initial setup
        updateRingGradient(moodSlider.value);
        moodRing.classList.add(currentShapeClass, currentSizeClass);

        // Event Listener for Mood Slider
        moodSlider.addEventListener('input', (event) => {
            const value = event.target.value;
            moodValueDisplay.textContent = value;
            updateRingGradient(value);
        });

        // Event Listener for Shape Selector
        const shapeBaseClasses = 'shape-btn px-4 py-1.5 text-sm font-medium hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400';
        const shapeActiveClasses = 'bg-indigo-100 text-indigo-700 hover:bg-indigo-200 focus:ring-indigo-500';
        shapeSelector.addEventListener('click', (event) => {
            if (event.target.tagName === 'BUTTON' && event.target.dataset.shape) {
                const newShapeClass = event.target.dataset.shape;
                const shapeClassList = event.target.classList; // Get classList of the button itself for styling
                const borderRadiusClass = shapeClassList.contains('rounded-full') ? 'rounded-full' :
                                          shapeClassList.contains('rounded-lg') ? 'rounded-lg' :
                                          shapeClassList.contains('rounded-md') ? 'rounded-md' :
                                          'rounded-[50%_/_30%]' ; // Default to oval if not found, adjust if needed

                // Update button styles
                updateActiveButton(shapeSelector, event.target, `${shapeBaseClasses} ${borderRadiusClass}`, shapeActiveClasses);

                // Update ring element shape
                moodRing.classList.remove(currentShapeClass);
                moodRing.classList.add(newShapeClass);
                currentShapeClass = newShapeClass;
            }
        });


        // Event Listener for Size Selector
        const sizeBaseClasses = 'size-btn px-4 py-1.5 rounded-md text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400';
        const sizeActiveClasses = 'bg-indigo-100 text-indigo-700 hover:bg-indigo-200 focus:ring-indigo-500';
        sizeSelector.addEventListener('click', (event) => {
             if (event.target.tagName === 'BUTTON' && event.target.dataset.size) {
                const newSizeClass = event.target.dataset.size;

                 // Update button styles
                updateActiveButton(sizeSelector, event.target, sizeBaseClasses, sizeActiveClasses);

                // Update ring element size
                const [widthClass, heightClass] = newSizeClass.split(' ');
                moodRing.classList.remove(currentSizeClass.split(' ')[0], currentSizeClass.split(' ')[1]);
                moodRing.classList.add(widthClass, heightClass);
                currentSizeClass = newSizeClass;
            }
        });

        // Placeholder for Save Button
        saveButton.addEventListener('click', () => {
            alert('Save as Image feature is coming soon! This usually requires a library.');
            // For a real implementation, you might use html2canvas library here.
        });

        // Placeholder for Share Button
        shareButton.addEventListener('click', () => {
            const shareUrl = window.location.href; // Simple share of current page
            navigator.clipboard.writeText(shareUrl).then(() => {
                shareFeedback.textContent = 'Link copied to clipboard!';
                 setTimeout(() => { shareFeedback.textContent = ''; }, 3000); // Clear message after 3 seconds
            }).catch(err => {
                console.error('Failed to copy link: ', err);
                shareFeedback.textContent = 'Failed to copy link.';
                setTimeout(() => { shareFeedback.textContent = ''; }, 3000);
            });
             // A more advanced version could generate a URL with parameters:
             // const params = new URLSearchParams({
             //     mood: moodSlider.value,
             //     shape: currentShapeClass,
             //     size: currentSizeClass
             // });
             // const shareUrlWithParams = `${window.location.origin}${window.location.pathname}?${params.toString()}`;
             // console.log("Shareable URL:", shareUrlWithParams);
             // alert(`Shareable link generated (see console). Implement copy to clipboard.`);
        });

        // Optional: Read URL parameters on load to set initial state (for shared links)
        // window.addEventListener('DOMContentLoaded', () => {
        //     const urlParams = new URLSearchParams(window.location.search);
        //     const mood = urlParams.get('mood');
        //     const shape = urlParams.get('shape');
        //     const size = urlParams.get('size');

        //     if (mood) {
        //         moodSlider.value = mood;
        //         moodValueDisplay.textContent = mood;
        //         updateRingGradient(mood);
        //     }
        //     // Add logic to find and click corresponding shape/size buttons if parameters exist
        // });

    </script>

</body>
</html>