<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive CRT Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom CSS for CRT Effects (Scanlines, Flicker, Glitch) */
        @keyframes flicker {
          0%, 100% { opacity: 1; }
          49.9% { opacity: 1; }
          50% { opacity: 0.9; }
          50.1% { opacity: 1; }
        }
        @keyframes blink {
          0%, 100% { opacity: 1; }
          50% { opacity: 0; }
        }
        @keyframes text-glitch {
          0% { transform: translate(0); text-shadow: 1px 1px 0 rgba(255,0,0,0.5), -1px -1px 0 rgba(0,255,255,0.5);}
          25% { transform: translate(2px, -1px); text-shadow: -1px 1px 0 rgba(255,0,0,0.5), 1px -1px 0 rgba(0,255,255,0.5);}
          50% { transform: translate(-1px, 2px); text-shadow: 1px -1px 0 rgba(255,0,0,0.5), -1px 1px 0 rgba(0,255,255,0.5);}
          75% { transform: translate(1px, -1px); text-shadow: -1px -1px 0 rgba(255,0,0,0.5), 1px 1px 0 rgba(0,255,255,0.5);}
          100% { transform: translate(0); text-shadow: 1px 1px 0 rgba(255,0,0,0.5), -1px -1px 0 rgba(0,255,255,0.5);}
        }
        @keyframes screen-glitch {
          0% { clip-path: inset(10% 0 85% 0); transform: translateX(0); }
          20% { clip-path: inset(80% 0 5% 0); transform: translateX(-2px); }
          40% { clip-path: inset(30% 0 60% 0); transform: translateX(1px); }
          60% { clip-path: inset(65% 0 25% 0); transform: translateX(2px); }
          80% { clip-path: inset(5% 0 70% 0); transform: translateX(-1px); }
          100% { clip-path: inset(50% 0 40% 0); transform: translateX(0); }
        }

        .crt-effect {
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3), inset 0 0 30px rgba(0, 0, 0, 0.8);
            border: 2px solid #333; /* CRT Bezel */
            background-color: #0A0A0A; /* Dark screen background */
        }

        /* Scanlines Overlay */
        .crt-effect::before {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.3) 50%);
            background-size: 100% 4px; /* Adjust scanline thickness/spacing */
            z-index: 2;
            pointer-events: none;
            animation: flicker 0.1s infinite alternate; /* Subtle flicker */
        }

        /* Vignette Overlay */
        .crt-effect::after {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: radial-gradient(ellipse at center, rgba(0,0,0,0) 60%, rgba(0,0,0,0.7) 100%);
            z-index: 2;
            pointer-events: none;
        }

        /* Ensure content is above overlays */
        .crt-content {
            position: relative;
            z-index: 1;
            font-family: 'Courier New', Courier, monospace; /* Classic terminal font */
            color: #00FF41; /* Bright green text */
            text-shadow: 0 0 5px rgba(0, 255, 65, 0.5), 0 0 10px rgba(0, 255, 65, 0.3); /* Glow effect */
        }

        .blinking-cursor {
            animation: blink 1s step-end infinite;
            background-color: #00FF41; /* Match text color */
            box-shadow: 0 0 5px rgba(0, 255, 65, 0.7);
            display: inline-block; /* Needed for width/height */
            width: 0.6em; /* Adjust cursor width */
            height: 1.2em; /* Adjust cursor height */
            margin-left: 2px;
            vertical-align: middle; /* Align with text */
        }

        /* Glitch Effect Classes */
        .glitch-active-text .crt-content {
            animation: text-glitch 0.15s infinite steps(1, end);
        }
        .glitch-active-screen {
            animation: screen-glitch 0.3s infinite alternate steps(1, end);
        }
        .glitch-active-screen::before { /* Glitch scanlines too */
             opacity: 0.7; /* Make scanlines more visible during glitch */
        }

        /* Custom scrollbar for terminal */
        .terminal-output::-webkit-scrollbar {
            width: 8px;
        }
        .terminal-output::-webkit-scrollbar-track {
            background: #1a1a1a;
        }
        .terminal-output::-webkit-scrollbar-thumb {
            background-color: #00FF41;
            border-radius: 4px;
            border: 2px solid #1a1a1a;
        }
    </style>
</head>
<body class="bg-gray-900 flex items-center justify-center min-h-screen p-4 font-mono">

    <div id="crtScreen" class="crt-effect rounded-lg w-full max-w-4xl aspect-[16/10] md:aspect-video flex flex-col">

        <!-- Terminal Content Area -->
        <div class="crt-content flex-grow p-4 md:p-6 text-sm md:text-base overflow-hidden flex flex-col">

            <!-- Header/Title (Optional) -->
            <div class="border-b border-green-700/50 pb-2 mb-4 text-center">
                <h1 class="text-lg md:text-xl font-bold">[ R.A.D.I.O.W.A.V.E TERMINAL v1.38 ]</h1>
                <p class="text-xs text-green-400/70">Est. 1984 - //SIGNAL INTERCEPT// MODE</p>
            </div>

            <!-- Scrollable Output Area -->
            <div id="terminalOutput" class="terminal-output flex-grow overflow-y-auto pr-2 mb-4">
                <p>Initializing system...</p>
                <p>BIOS check: OK</p>
                <p>Memory test: 640KB OK</p>
                <p>Loading kernel modules...</p>
                <p>[ OK ] Network Interface eth0</p>
                <p>[ OK ] Audio Subsystem</p>
                <p>[WARN] Temporal Flux Capacitor offline (Code: TFC-001)</p>
                <p>Mounting file systems...</p>
                <p>Welcome to RADIOWAVE OS</p>
                <p>Last login: Mon Jun 10 19:84:00 on tty1</p>
                <br>
                <p>Executing 'scan_signals --freq=all --mode=deep'...</p>
                <pre class="whitespace-pre-wrap">
 Signal Strength: ██████░░░░ 75%
 Freq Range: 100MHz - 1.2GHz
 Detected Anomalies: 3
   > Anomaly 1: [CLASSIFIED] at 404.MHz - Possible Glitch Artifact?
   > Anomaly 2: Repeating sequence [0110_1001_0110_...] at 888.MHz
   > Anomaly 3: High energy burst detected - Source unknown
                </pre>
                <br>
                <p>Displaying recovered data fragment (IMAGE.DAT):</p>
                <!-- Placeholder ASCII Art -->
                <pre class="whitespace-pre-wrap text-center text-xs md:text-sm leading-tight my-4">
        _.--""--._
      .'          `.
     /   O      O   \
    |    \  ^^  /    |
    \     `----'     /
     `. _______ .'
       //_____\\
      (( ____ ))
       `------'
    [ CORRUPTED DATA ]
                </pre>
                <p>Awaiting next command...</p>
                <p class="text-yellow-400">[SYS] System unstable. Glitches detected.</p>
                <p class="text-red-500">[ERR] Connection lost to main server. Retrying...</p>
                <p>...</p>
                <p>...</p>
                <!-- Add more placeholder lines to enable scrolling -->
                 <p>System Checksum: FAILED</p>
                 <p>Attempting recovery...</p>
                 <p>[...]</p>
                 <p>Recovery failed. Manual intervention required.</p>
                 <p>--------------------------------------------------</p>
                 <p>Enter 'help' for available commands.</p>

            </div>

            <!-- Input Line -->
            <div class="flex items-center pt-2 border-t border-green-700/50">
                <span class="text-green-400 mr-2">&gt;</span>
                <span id="inputLine" class="flex-grow"></span>
                <span id="cursor" class="blinking-cursor"></span>
            </div>
        </div>

        <!-- Optional Controls outside the main content area but inside the container -->
        <div class="absolute bottom-2 right-2 z-10">
             <button id="glitchButton" class="text-xs bg-green-700/50 hover:bg-green-600/70 text-green-100 px-2 py-1 rounded opacity-70 hover:opacity-100 transition-opacity">
                 Toggle Glitch
             </button>
         </div>

    </div>

    <script>
        // Blinking Cursor (handled by CSS animation 'blink')

        // Glitch Toggle Logic
        const crtScreen = document.getElementById('crtScreen');
        const glitchButton = document.getElementById('glitchButton');
        let glitchInterval = null; // To store the interval ID

        function toggleGlitch() {
            if (crtScreen) {
                // Toggle between two types of glitches or turn off
                if (crtScreen.classList.contains('glitch-active-text')) {
                    crtScreen.classList.remove('glitch-active-text');
                    crtScreen.classList.add('glitch-active-screen');
                    glitchButton.textContent = 'Intensify Glitch';
                } else if (crtScreen.classList.contains('glitch-active-screen')) {
                    crtScreen.classList.remove('glitch-active-screen');
                    glitchButton.textContent = 'Trigger Glitch';
                    // Stop auto-glitch if it was running
                    if (glitchInterval) {
                        clearInterval(glitchInterval);
                        glitchInterval = null;
                    }
                } else {
                    crtScreen.classList.add('glitch-active-text');
                    glitchButton.textContent = 'Stabilize (Text)';
                    // Optional: Start auto-glitching periodically when first activated
                    // startAutoGlitch();
                }
            }
        }

        // Optional: Function to start periodic random glitches
        function startAutoGlitch() {
            if (!glitchInterval && crtScreen) {
                 glitchInterval = setInterval(() => {
                    if (!crtScreen.classList.contains('glitch-active-text') && !crtScreen.classList.contains('glitch-active-screen')) {
                        // Only trigger if no manual glitch is active
                        const glitchType = Math.random() > 0.5 ? 'glitch-active-text' : 'glitch-active-screen';
                        crtScreen.classList.add(glitchType);
                        setTimeout(() => {
                            crtScreen.classList.remove(glitchType);
                        }, 200 + Math.random() * 300); // Glitch duration 200-500ms
                    }
                }, 3000 + Math.random() * 5000); // Trigger every 3-8 seconds
            }
        }

        // Add listener to the button
        if (glitchButton) {
            glitchButton.addEventListener('click', toggleGlitch);
        }

        // Scroll to bottom initially
        const terminalOutput = document.getElementById('terminalOutput');
        if(terminalOutput) {
            terminalOutput.scrollTop = terminalOutput.scrollHeight;
        }

        // Optional: Simulate typing effect for input line (very basic example)
        // const inputLine = document.getElementById('inputLine');
        // const command = "status --verbose";
        // let i = 0;
        // function typeCommand() {
        //     if (i < command.length) {
        //         inputLine.textContent += command.charAt(i);
        //         i++;
        //         setTimeout(typeCommand, 100 + Math.random() * 100);
        //     }
        // }
        // setTimeout(typeCommand, 1500); // Start typing after a delay

    </script>

</body>
</html>